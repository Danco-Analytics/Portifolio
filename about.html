<!DOCTYPE html>
<html lang="en" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>About Daniel Wanjala - My Journey in Data</title>
    <link rel="icon" href="assets/logo.png" type="image/png">
    <link rel="shortcut icon" href="assets/logo.png" type="image/png">
    <link rel="apple-touch-icon" href="assets/apple-touch-icon.png">

    <script src="https://cdn.tailwindcss.com"></script>

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@400;500;700&family=Satoshi:wght@400;500;700&family=Inter:wght@400;500&family=IBM+Plex+Sans:wght@400;500&family=JetBrains+Mono:wght@400&display=swap" rel="stylesheet">

    <script src="https://unpkg.com/lucide@latest"></script>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/tone/14.8.49/Tone.js"></script>

    <style>
        /* Base body styles */
        body {
          font-family: 'Inter', 'IBM Plex Sans', sans-serif;
          overflow-x: hidden; /* Prevent horizontal scroll */
          -webkit-font-smoothing: antialiased;
          -moz-osx-font-smoothing: grayscale;
          background-attachment: fixed; /* Creates parallax effect for noise */
          position: relative; /* Needed for absolutely positioned elements */
        }

        /* Font utility classes */
        .font-heading { font-family: 'Satoshi', 'Space Grotesk', 'Neue Montreal', sans-serif; }
        .font-body { font-family: 'Inter', 'IBM Plex Sans', sans-serif; }
        .font-mono { font-family: 'JetBrains Mono', 'Source Code Pro', monospace; }

        /* Custom Scrollbar Styling (Keep consistent) */
        ::-webkit-scrollbar { width: 8px; }
        ::-webkit-scrollbar-track { background: theme('colors.sandstone'); }
        ::-webkit-scrollbar-thumb { background: theme('colors.accent'); border-radius: 4px; }
        ::-webkit-scrollbar-thumb:hover { background: theme('colors.accent-secondary'); }
        html.dark ::-webkit-scrollbar-track { background: theme('colors.dark-secondary-bg'); }
        html.dark ::-webkit-scrollbar-thumb { background: theme('colors.dark-accent'); }
        html.dark ::-webkit-scrollbar-thumb:hover { background: theme('colors.dark-accent-secondary'); }

        /* Smooth scrolling */
        html { scroll-behavior: smooth; }

        /* Mobile Menu Transition */
        #mobile-menu {
            max-height: 0; overflow: hidden;
            transition: max-height 0.3s ease-out, opacity 0.3s ease-out; opacity: 0;
        }
        #mobile-menu.open { max-height: 500px; /* Adjust if needed */ opacity: 1; }

        /* Scroll Reveal Animation Base */
        .reveal-hidden { opacity: 0; transform: translateY(30px); transition: opacity 0.8s ease-out, transform 0.8s ease-out; }
        .reveal-visible { opacity: 1; transform: translateY(0); }
        .reveal-slide-left { opacity: 0; transform: translateX(-50px); transition: opacity 0.6s ease-out, transform 0.6s ease-out; }
        .reveal-slide-right { opacity: 0; transform: translateX(50px); transition: opacity 0.6s ease-out, transform 0.6s ease-out; }
        .reveal-visible.slide-in { opacity: 1; transform: translateX(0); }
        /* Staggering delay added via JS */

        /* Navbar Underline */
        /* NOTE: Adjust active state based on whether this page needs nav highlighting */
        .nav-link.nav-active {
            @apply bg-gradient-to-r from-accent to-accent-secondary dark:from-dark-accent dark:to-dark-accent-secondary bg-clip-text text-transparent;
        }
        .nav-link .active-underline {
             display: none; width: 0%; height: 2px;
             background-image: linear-gradient(to right, theme('colors.accent'), theme('colors.accent-secondary'));
             position: absolute; bottom: -2px; left: 50%; transform: translateX(-50%); transition: width 0.3s ease;
        }
        html.dark .nav-link .active-underline {
             background-image: linear-gradient(to right, theme('colors.dark-accent'), theme('colors.dark-accent-secondary'));
        }
        .nav-link.nav-active .active-underline { display: block !important; width: 60%; }

        /* Mobile active link */
        .mobile-nav-link.nav-active {
            background-image: linear-gradient(to right, theme('colors.accent/10'), theme('colors.accent-secondary/20'));
            color: theme('colors.accent') !important;
        }
        html.dark .mobile-nav-link.nav-active {
             background-image: linear-gradient(to right, theme('colors.dark-accent/10'), theme('colors.dark-accent-secondary/20'));
             color: theme('colors.dark-accent') !important;
        }

        /* --- Canvas Background --- */
        #particle-canvas {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: -1;
            /* pointer-events: none; */ /* Allow mouse interaction if needed */
        }

         /* --- Main Content Container for Tilt --- */
        #main-content-container {
            perspective: 1000px;
            transition: transform 0.5s cubic-bezier(0.23, 1, 0.32, 1);
        }

        /* --- Header Shrink on Scroll --- */
        header.scrolled {
            @apply h-14 shadow-md; /* Reduced height and added shadow */
        }
        header.scrolled .h-16 { /* Target the inner div */
            @apply h-14; /* Match header height */
        }
        header.scrolled .h-8 { /* Target the logo */
             @apply h-7; /* Slightly smaller logo */
        }

        /* --- Back to Top Button Styles --- */
        #back-to-top {
            position: fixed;
            bottom: 20px;
            right: 20px;
            opacity: 0;
            visibility: hidden;
            transition: opacity 0.3s ease-in-out, visibility 0.3s ease-in-out, transform 0.3s ease-in-out;
            transform: translateY(20px);
            z-index: 1000;
            @apply focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-accent dark:focus:ring-dark-accent;
        }
        #back-to-top.visible {
            opacity: 1;
            visibility: visible;
            transform: translateY(0);
        }

        /* --- Interactive Timeline Styles --- */
        .timeline-item {
            position: relative;
            padding-left: 2.5rem; /* Space for icon */
            padding-bottom: 2rem;
            border-left: 2px solid theme('colors.accent');
            transition: border-color 0.3s ease;
        }
        html.dark .timeline-item {
            border-left-color: theme('colors.dark-accent');
        }
        .timeline-item:last-child {
            padding-bottom: 0;
            border-left: 2px solid transparent; /* Hide border for last item */
        }
        .timeline-icon-wrapper {
            position: absolute;
            left: -0.875rem; /* Adjust to center icon on the line */
            top: 0;
            display: flex;
            align-items: center;
            justify-content: center;
            width: 1.75rem; /* Size of the circle */
            height: 1.75rem;
            background-color: theme('colors.accent');
            border: 4px solid theme('colors.primary-bg'); /* Creates cutout effect */
            border-radius: 50%;
            transition: transform 0.3s ease, background-color 0.3s ease;
        }
        html.dark .timeline-icon-wrapper {
            background-color: theme('colors.dark-accent');
            border-color: theme('colors.dark-primary-bg');
        }
        .timeline-icon {
            width: 0.875rem; /* Size of the inner icon */
            height: 0.875rem;
            color: theme('colors.primary-bg');
        }
        html.dark .timeline-icon {
            color: theme('colors.dark-primary-bg');
        }
        /* Hover/Focus effect for timeline item */
        .timeline-item:hover .timeline-icon-wrapper,
        .timeline-item:focus-within .timeline-icon-wrapper {
            transform: scale(1.15);
            background-color: theme('colors.accent-secondary');
        }
        html.dark .timeline-item:hover .timeline-icon-wrapper,
        html.dark .timeline-item:focus-within .timeline-icon-wrapper {
            background-color: theme('colors.dark-accent-secondary');
        }
        .timeline-content {
            opacity: 0.7;
            transition: opacity 0.3s ease;
        }
        .timeline-item:hover .timeline-content,
        .timeline-item:focus-within .timeline-content {
            opacity: 1;
        }
        .timeline-date {
            position: absolute;
            left: 2.5rem; /* Align with content */
            top: -0.75rem; /* Position above the content */
            font-size: 0.75rem; /* text-xs */
            font-family: theme('fontFamily.mono');
            color: theme('colors.accent-secondary');
            background-color: theme('colors.secondary-bg');
            padding: 0.125rem 0.5rem; /* py-0.5 px-2 */
            border-radius: theme('borderRadius.md');
        }
        html.dark .timeline-date {
             color: theme('colors.dark-accent-secondary');
             background-color: theme('colors.dark-secondary-bg');
        }

        /* --- Skill Hover Reveal --- */
        .skill-item {
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }
        .skill-item:hover {
            transform: translateY(-4px);
            @apply shadow-lg;
        }
        .skill-description {
            max-height: 0;
            overflow: hidden;
            opacity: 0;
            transition: max-height 0.5s ease-out, opacity 0.5s ease-out 0.1s, margin-top 0.5s ease-out;
            margin-top: 0;
        }
        .skill-item:hover .skill-description,
        .skill-item:focus-within .skill-description {
            max-height: 200px; /* Adjust as needed */
            opacity: 1;
            margin-top: 0.75rem; /* mt-3 */
        }

        /* --- Philosophy Card Flip (Example) --- */
        .philosophy-card-inner {
            position: relative;
            width: 100%;
            height: 100%;
            text-align: center;
            transition: transform 0.6s;
            transform-style: preserve-3d;
        }
        .philosophy-card:hover .philosophy-card-inner,
        .philosophy-card:focus-within .philosophy-card-inner {
            transform: rotateY(180deg);
        }
        .philosophy-card-front, .philosophy-card-back {
            position: absolute;
            width: 100%;
            height: 100%;
            -webkit-backface-visibility: hidden; /* Safari */
            backface-visibility: hidden;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            padding: 1rem;
            border-radius: inherit; /* Inherit rounding */
        }
        .philosophy-card-front {
            /* Styles for the front */
             @apply bg-glass-light dark:bg-glass-dark border border-secondary-text/10 dark:border-dark-secondary-text/20;
        }
        .philosophy-card-back {
            /* Styles for the back */
            transform: rotateY(180deg);
             @apply bg-accent/80 dark:bg-dark-accent/80 text-white dark:text-jet-black;
        }

        /* --- Accessibility: Focus Styles --- */
        *:focus-visible {
             outline: 2px solid theme('colors.accent');
             outline-offset: 2px;
             border-radius: 2px;
        }
        html.dark *:focus-visible {
             outline-color: theme('colors.dark-accent');
        }
        *:focus {
             outline: none;
        }

    </style>
    <script>
      tailwind.config = {
        darkMode: 'class', // Keep 'class' strategy
        theme: {
          extend: {
            colors: { // Use the same color palette
              'jet-black': '#0B0C10', 'ghost-white': '#F7F7F7', 'signal-cyan': '#66FCF1',
              'tech-purple': '#6C5CE7', 'emerald-green': '#2ECC71', 'red-coral': '#FF6B6B',
              'sandstone': '#E0C097',
              'whatsapp-green': '#25D366',
              'primary-bg': '#F7F7F7', 'primary-text': '#0B0C10', 'secondary-bg': '#E0C097',
              'secondary-text': '#4A4A4A', 'accent': '#6C5CE7', 'accent-secondary': '#FF6B6B',
              'dark-primary-bg': '#0B0C10', 'dark-primary-text': '#F7F7F7', 'dark-secondary-bg': '#1F2833',
              'dark-secondary-text': '#C5C6C7', 'dark-accent': '#66FCF1', 'dark-accent-secondary': '#45A29E',
              'tertiary-light': '#F5B041', 'tertiary-dark': '#F39C12',
              'glass-light': 'rgba(225, 229, 255, 0.1)', 'glass-dark': 'rgba(17, 24, 39, 0.2)',
              'glass-darker': 'rgba(17, 24, 39, 0.3)',
            },
            fontFamily: { // Use the same fonts
              heading: ['Satoshi', 'Space Grotesk', 'Neue Montreal', 'sans-serif'],
              body: ['Inter', 'IBM Plex Sans', 'sans-serif'],
              mono: ['JetBrains Mono', 'Source Code Pro', 'monospace'],
            },
            // Add any necessary keyframes/animations if specific ones are needed only for this page
          }
        }
      }
    </script>
    <script>
        (function() {
            const storedTheme = localStorage.getItem('theme');
            let initialTheme = 'light';
            if (storedTheme) { initialTheme = storedTheme; }
            if (initialTheme === 'dark') { document.documentElement.classList.add('dark'); }
            else { document.documentElement.classList.remove('dark'); }

            const applyBgNoise = () => {
                const noiseLight = "url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='4' height='4' viewBox='0 0 4 4'%3E%3Cpath fill='%239C92AC' fill-opacity='0.10' d='M1 3h1v1H1V3zm2-2h1v1H3V1z'%3E%3C/path%3E%3C/svg%3E\")";
                const noiseDark = "url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='4' height='4' viewBox='0 0 4 4'%3E%3Cpath fill='%23C5C6C7' fill-opacity='0.05' d='M1 3h1v1H1V3zm2-2h1v1H3V1z'%3E%3C/path%3E%3C/svg%3E\")";
                if (document.body) { document.body.style.backgroundImage = document.documentElement.classList.contains('dark') ? noiseDark : noiseLight; }
            };
            if (document.readyState === 'loading') { document.addEventListener('DOMContentLoaded', applyBgNoise); }
            else { applyBgNoise(); }
        })();
    </script>
</head>
<body class="font-body bg-primary-bg text-primary-text dark:bg-dark-primary-bg dark:text-dark-primary-text min-h-screen relative overflow-x-hidden transition-colors duration-300">

    <canvas id="particle-canvas"></canvas>

    <div id="scrollProgressBar" class="fixed top-0 left-0 right-0 h-1 bg-gradient-to-r from-accent to-accent-secondary dark:from-dark-accent dark:to-dark-accent-secondary origin-left z-50" style="transform: scaleX(0);"></div>

    <header id="main-header" class="fixed top-0 left-0 right-0 z-40 transition-all duration-300 backdrop-blur-md bg-glass-light dark:bg-glass-dark border-b border-secondary-text/10 dark:border-dark-secondary-text/10 h-16">
       <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex justify-between items-center h-16 transition-all duration-300">
                <a href="index.html#hero" class="flex items-center space-x-2 group" aria-label="Daniel Wanjala - Home">
                     <img src="assets/logo.png" alt="" class="h-8 w-auto transition-transform duration-300 group-hover:scale-110 group-hover:rotate-[-5deg]" aria-hidden="true" onerror="this.style.display='none'; console.error('Logo image failed to load')">
                     <span class="text-xl font-bold bg-gradient-to-r from-accent to-accent-secondary dark:from-dark-accent dark:to-dark-accent-secondary bg-clip-text text-transparent font-heading group-hover:opacity-80 transition-opacity duration-300">
                        Daniel Wanjala.
                    </span>
                </a>
                <nav class="hidden md:flex space-x-6" id="desktop-nav" aria-label="Main navigation">
                    <a href="index.html" data-section="home" class="nav-link">Home <span class="active-underline"></span></a>
                    <a href="about.html" data-section="about" class="nav-link nav-active">About <span class="active-underline"></span></a>
                    <a href="skills.html" data-section="skills" class="nav-link">Skills <span class="active-underline"></span></a>
                    <a href="education.html" data-section="education" class="nav-link">Education <span class="active-underline"></span></a>
                    <a href="projects.html" data-section="projects" class="nav-link">Projects <span class="active-underline"></span></a>
                    <a href="contact.html" data-section="contact" class="nav-link">Contact <span class="active-underline"></span></a>
               </nav>
                <div class="flex items-center space-x-2">
                     <button id="theme-toggle" aria-label="Toggle Dark/Light Mode" class="interactive-element p-2 rounded-full text-secondary-text dark:text-dark-secondary-text hover:text-accent dark:hover:text-dark-accent hover:bg-secondary-text/10 dark:hover:bg-dark-secondary-text/10 transition-colors duration-200 focus:outline-none focus:ring-2 focus:ring-accent dark:focus:ring-dark-accent">
                        <i id="theme-icon-sun" data-lucide="sun" class="h-5 w-5 hidden" aria-hidden="true"></i>
                        <i id="theme-icon-moon" data-lucide="moon" class="h-5 w-5" aria-hidden="true"></i>
                     </button>
                    <div class="md:hidden">
                        <button id="mobile-menu-button" class="interactive-element inline-flex items-center justify-center p-2 rounded-md text-secondary-text dark:text-dark-secondary-text hover:text-accent dark:hover:text-dark-accent hover:bg-secondary-text/10 dark:hover:bg-dark-secondary-text/10 focus:outline-none focus:ring-2 focus:ring-inset focus:ring-accent dark:focus:ring-dark-accent" aria-controls="mobile-menu" aria-expanded="false">
                            <span class="sr-only">Open main menu</span>
                            <svg id="menu-icon-open" class="block h-6 w-6" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" aria-hidden="true"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"></path></svg>
                            <svg id="menu-icon-close" class="hidden h-6 w-6" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" aria-hidden="true"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path></svg>
                        </button>
                    </div>
                </div>
            </div>
        </div>
        <div class="md:hidden bg-glass-light dark:bg-glass-darker border-t border-secondary-text/10 dark:border-dark-secondary-text/10" id="mobile-menu">
            <div class="px-2 pt-2 pb-3 space-y-1 sm:px-3" role="menu" aria-orientation="vertical" aria-labelledby="mobile-menu-button">
                <a href="index.html" data-section="home" class="mobile-nav-link" role="menuitem">Home</a>
               <a href="about.html" data-section="about" class="mobile-nav-link nav-active" role="menuitem">About</a>
               <a href="skills.html" data-section="skills" class="mobile-nav-link" role="menuitem">Skills</a>
               <a href="education.html" data-section="education" class="mobile-nav-link" role="menuitem">Education</a>
               <a href="projects.html" data-section="projects" class="mobile-nav-link" role="menuitem">Projects</a>
               <a href="contact.html" data-section="contact" class="mobile-nav-link" role="menuitem">Contact</a>
           </div>
        </div>
    </header>

    <div id="main-content-container">
        <main class="pt-24 pb-16"> <section id="about-intro" class="py-16 px-4 md:px-8 lg:px-16 bg-secondary-bg/30 dark:bg-dark-secondary-bg/30 reveal-hidden">
                <div class="max-w-6xl mx-auto grid grid-cols-1 md:grid-cols-5 gap-12 items-center">
                    <div class="md:col-span-2 flex justify-center relative group reveal-hidden">
                         <div class="relative w-64 h-64 md:w-80 md:h-80 rounded-full overflow-hidden border-4 border-accent-secondary dark:border-dark-accent-secondary shadow-xl transition-all duration-300 hover:scale-105 hover:shadow-[0_0_25px_rgba(108,92,231,0.3)] dark:hover:shadow-[0_0_25px_rgba(102,252,241,0.3)]">
                            <img src="assets/profile.jpg" alt="Portrait of Daniel Wanjala" class="w-full h-full object-cover" loading="lazy" onerror="this.onerror=null;this.src='https://placehold.co/320x320/0B0C10/F7F7F7?text=Daniel+W.'">
                            <div class="absolute inset-0 rounded-full border-2 border-accent dark:border-dark-accent opacity-0 group-hover:opacity-50 animate-pulse" aria-hidden="true"></div>
                        </div>
                    </div>
                    <div class="md:col-span-3 reveal-hidden">
                        <h1 class="text-4xl md:text-5xl font-bold mb-6 bg-gradient-to-r from-accent to-accent-secondary dark:from-dark-accent dark:to-dark-accent-secondary bg-clip-text text-transparent font-heading tracking-tight">
                            Hello! I'm Daniel Wanjala.
                        </h1>
                        <p class="text-lg md:text-xl text-secondary-text dark:text-dark-secondary-text mb-4 leading-relaxed font-body">
                            It's great to connect with you here. I'm a <strong class="text-accent dark:text-dark-accent">Data Scientist and Machine Learning Engineer</strong> originally hailing from the vibrant area near Nairobi, Kenya. My world revolves around finding patterns in the chaos, building systems that learn, and ultimately, using technology to make a tangible difference.
                        </p>
                        <p class="text-lg md:text-xl text-secondary-text dark:text-dark-secondary-text leading-relaxed font-body">
                            My journey hasn't been a straight line – it's been more of an exciting exploration, starting in the dynamic field of IT management and diving headfirst into the fascinating depths of data science. I'm driven by a deep-seated belief that the right data, combined with intelligent algorithms, can unlock solutions to some truly complex real-world challenges.
                        </p>
                         </div>
                </div>
            </section>

            <section id="about-journey" class="py-16 px-4 md:px-8 lg:px-16 bg-primary-bg dark:bg-dark-primary-bg reveal-hidden">
                <h2 class="text-3xl md:text-4xl font-bold mb-12 text-center text-primary-text dark:text-dark-primary-text font-heading tracking-tight reveal-hidden">
                    From IT Foundations to Data Frontiers
                </h2>
                <div class="max-w-4xl mx-auto grid grid-cols-1 md:grid-cols-2 gap-12 items-start">
                    <div class="space-y-6 reveal-slide-left">
                        <p class="text-md text-secondary-text dark:text-dark-secondary-text leading-relaxed font-body">
                            My professional path began in the demanding environment of healthcare IT. As the <strong class="text-accent dark:text-dark-accent">Senior IT Manager at Kingdom Hospital</strong> in Webuye, I wasn't just keeping the systems running; I was on the front lines, ensuring that technology reliably supported critical patient care. It was here, managing networks, ensuring data integrity, and leading a team of interns, that I first truly grasped the immense potential hidden within the hospital's operational data.
                        </p>
                        <p class="text-md text-secondary-text dark:text-dark-secondary-text leading-relaxed font-body">
                            Seeing the direct impact of efficient systems – like reducing patient wait times through better scheduling or improving billing accuracy with integrated solutions – ignited my curiosity. I started volunteering my time specifically as a <strong class="text-accent dark:text-dark-accent">Data Scientist</strong> within the hospital, driven to explore how we could move beyond just *managing* data to *learning* from it. This led to developing predictive models for patient flow, a project that yielded significant improvements and solidified my passion for data's predictive power.
                        </p>
                         <p class="text-md text-secondary-text dark:text-dark-secondary-text leading-relaxed font-body">
                            This hands-on experience naturally led me to formalize my knowledge. Pursuing a <strong class="text-accent dark:text-dark-accent">Certificate in Data Science & Machine Learning from Moringa School</strong> provided an immersive, project-based deep dive. Following that, my <strong class="text-accent dark:text-dark-accent">BSc in Information Technology from Zetech University</strong> gave me the robust technical foundation. Now, I'm furthering my expertise through a <strong class="text-accent dark:text-dark-accent">Master of Science in Data Science at Cooperative University of Kenya</strong>, constantly seeking to refine my skills in machine learning, statistical modeling, and research.
                        </p>
                    </div>
                    <div class="reveal-slide-right">
                        <h3 class="text-2xl font-semibold mb-6 text-center md:text-left text-primary-text dark:text-dark-primary-text font-heading">Key Milestones</h3>
                        <div class="relative space-y-0"> <div class="timeline-item interactive-element reveal-hidden" tabindex="0">
                                <span class="timeline-date">2024 - Present</span>
                                <div class="timeline-icon-wrapper" aria-hidden="true">
                                    <i data-lucide="graduation-cap" class="timeline-icon"></i>
                                </div>
                                <div class="timeline-content">
                                    <h4 class="text-lg font-semibold mb-1 text-primary-text dark:text-dark-primary-text font-heading">MSc Data Science</h4>
                                    <p class="text-sm font-medium text-secondary-text dark:text-dark-secondary-text mb-1">Cooperative University of Kenya</p>
                                    <p class="text-xs text-secondary-text dark:text-dark-secondary-text font-body">Deepening expertise in advanced ML and research methodologies.</p>
                                </div>
                            </div>
                            <div class="timeline-item interactive-element reveal-hidden" tabindex="0" style="transition-delay: 100ms;">
                                <span class="timeline-date">Jan 2023 - Present</span>
                                <div class="timeline-icon-wrapper" aria-hidden="true">
                                    <i data-lucide="briefcase" class="timeline-icon"></i>
                                </div>
                                <div class="timeline-content">
                                    <h4 class="text-lg font-semibold mb-1 text-primary-text dark:text-dark-primary-text font-heading">Senior IT Manager & Data Scientist (Vol.)</h4>
                                    <p class="text-sm font-medium text-secondary-text dark:text-dark-secondary-text mb-1">Kingdom Hospital, Webuye</p>
                                    <p class="text-xs text-secondary-text dark:text-dark-secondary-text font-body">Led IT operations, championed data-driven decisions, built predictive models.</p>
                                </div>
                            </div>
                            <div class="timeline-item interactive-element reveal-hidden" tabindex="0" style="transition-delay: 200ms;">
                                <span class="timeline-date">Apr 2023 – Nov 2023</span>
                                <div class="timeline-icon-wrapper" aria-hidden="true">
                                    <i data-lucide="award" class="timeline-icon"></i>
                                </div>
                                <div class="timeline-content">
                                    <h4 class="text-lg font-semibold mb-1 text-primary-text dark:text-dark-primary-text font-heading">Certificate in Data Science & ML</h4>
                                    <p class="text-sm font-medium text-secondary-text dark:text-dark-secondary-text mb-1">Moringa School, Nairobi</p>
                                    <p class="text-xs text-secondary-text dark:text-dark-secondary-text font-body">Immersive, project-based learning in core data science concepts.</p>
                                </div>
                            </div>
                            <div class="timeline-item interactive-element reveal-hidden" tabindex="0" style="transition-delay: 300ms;">
                                <span class="timeline-date">Graduated 2022</span>
                                <div class="timeline-icon-wrapper" aria-hidden="true">
                                    <i data-lucide="graduation-cap" class="timeline-icon"></i>
                                </div>
                                <div class="timeline-content">
                                    <h4 class="text-lg font-semibold mb-1 text-primary-text dark:text-dark-primary-text font-heading">BSc Information Technology</h4>
                                    <p class="text-sm font-medium text-secondary-text dark:text-dark-secondary-text mb-1">Zetech University</p>
                                    <p class="text-xs text-secondary-text dark:text-dark-secondary-text font-body">Built strong foundation in IT infrastructure, software, and systems.</p>
                                </div>
                            </div>
                             </div>
                         </div>
                </div>
            </section>

            <section id="about-philosophy" class="py-16 px-4 md:px-8 lg:px-16 bg-secondary-bg/30 dark:bg-dark-secondary-bg/30 reveal-hidden">
                <h2 class="text-3xl md:text-4xl font-bold mb-12 text-center text-primary-text dark:text-dark-primary-text font-heading tracking-tight reveal-hidden">My Approach: Beyond the Code</h2>
                <div class="max-w-5xl mx-auto grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-8">
                    <div class="philosophy-card h-48 rounded-xl shadow-lg cursor-pointer reveal-hidden perspective" style="transition-delay: 0ms;" tabindex="0">
                        <div class="philosophy-card-inner">
                            <div class="philosophy-card-front">
                                <i data-lucide="puzzle" class="w-10 h-10 mb-3 text-accent dark:text-dark-accent" aria-hidden="true"></i>
                                <h3 class="text-xl font-semibold text-primary-text dark:text-dark-primary-text font-heading">Problem-Focused</h3>
                            </div>
                            <div class="philosophy-card-back">
                                <p class="text-sm font-body">Technology is a tool, not the goal. I start with understanding the core challenge and work backward to find the most effective, data-informed solution.</p>
                            </div>
                        </div>
                    </div>
                    <div class="philosophy-card h-48 rounded-xl shadow-lg cursor-pointer reveal-hidden perspective" style="transition-delay: 100ms;" tabindex="0">
                        <div class="philosophy-card-inner">
                            <div class="philosophy-card-front">
                                <i data-lucide="brain-circuit" class="w-10 h-10 mb-3 text-accent dark:text-dark-accent" aria-hidden="true"></i>
                                <h3 class="text-xl font-semibold text-primary-text dark:text-dark-primary-text font-heading">Always Learning</h3>
                            </div>
                            <div class="philosophy-card-back">
                                <p class="text-sm font-body">Data science evolves rapidly. I'm committed to continuous learning, exploring new techniques, and staying curious about what's possible.</p>
                            </div>
                        </div>
                    </div>
                    <div class="philosophy-card h-48 rounded-xl shadow-lg cursor-pointer reveal-hidden perspective" style="transition-delay: 200ms;" tabindex="0">
                        <div class="philosophy-card-inner">
                            <div class="philosophy-card-front">
                                <i data-lucide="target" class="w-10 h-10 mb-3 text-accent dark:text-dark-accent" aria-hidden="true"></i>
                                <h3 class="text-xl font-semibold text-primary-text dark:text-dark-primary-text font-heading">Impact-Oriented</h3>
                            </div>
                            <div class="philosophy-card-back">
                                <p class="text-sm font-body">Insights are valuable, but outcomes are paramount. I focus on building systems and delivering analyses that lead to measurable improvements and tangible results.</p>
                            </div>
                        </div>
                    </div>
                </div>
                </section>

            <section id="about-skills" class="py-16 px-4 md:px-8 lg:px-16 bg-primary-bg dark:bg-dark-primary-bg reveal-hidden">
                <h2 class="text-3xl md:text-4xl font-bold mb-12 text-center text-primary-text dark:text-dark-primary-text font-heading tracking-tight reveal-hidden">Core Skill Areas</h2>
                <div class="max-w-6xl mx-auto grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6">
                    <div class="skill-item interactive-element bg-glass-light dark:bg-glass-dark backdrop-blur-lg border border-secondary-text/10 dark:border-dark-secondary-text/20 rounded-xl p-5 text-center reveal-hidden" tabindex="0" style="transition-delay: 0ms;">
                        <i data-lucide="code-2" class="w-10 h-10 mx-auto mb-3 text-accent dark:text-dark-accent" aria-hidden="true"></i>
                        <h4 class="text-lg font-semibold mb-1 text-primary-text dark:text-dark-primary-text font-heading">Programming & SQL</h4>
                        <p class="skill-description text-xs text-secondary-text dark:text-dark-secondary-text font-body">Fluent in Python for data manipulation (Pandas, NumPy) and building models. Proficient in SQL for querying and managing relational databases.</p>
                    </div>
                    <div class="skill-item interactive-element bg-glass-light dark:bg-glass-dark backdrop-blur-lg border border-secondary-text/10 dark:border-dark-secondary-text/20 rounded-xl p-5 text-center reveal-hidden" tabindex="0" style="transition-delay: 100ms;">
                        <i data-lucide="brain-circuit" class="w-10 h-10 mx-auto mb-3 text-accent dark:text-dark-accent" aria-hidden="true"></i>
                        <h4 class="text-lg font-semibold mb-1 text-primary-text dark:text-dark-primary-text font-heading">Machine Learning</h4>
                        <p class="skill-description text-xs text-secondary-text dark:text-dark-secondary-text font-body">Experienced in building predictive models (regression, classification), time series forecasting (ARIMA, Prophet), and applying neural networks (TensorFlow/Keras).</p>
                    </div>
                    <div class="skill-item interactive-element bg-glass-light dark:bg-glass-dark backdrop-blur-lg border border-secondary-text/10 dark:border-dark-secondary-text/20 rounded-xl p-5 text-center reveal-hidden" tabindex="0" style="transition-delay: 200ms;">
                        <i data-lucide="bar-chart-3" class="w-10 h-10 mx-auto mb-3 text-accent dark:text-dark-accent" aria-hidden="true"></i>
                        <h4 class="text-lg font-semibold mb-1 text-primary-text dark:text-dark-primary-text font-heading">Data Visualization</h4>
                        <p class="skill-description text-xs text-secondary-text dark:text-dark-secondary-text font-body">Skilled in using libraries like Matplotlib, Seaborn, and Tableau to create clear, insightful visualizations that communicate complex data stories effectively.</p>
                    </div>
                    <div class="skill-item interactive-element bg-glass-light dark:bg-glass-dark backdrop-blur-lg border border-secondary-text/10 dark:border-dark-secondary-text/20 rounded-xl p-5 text-center reveal-hidden" tabindex="0" style="transition-delay: 300ms;">
                        <i data-lucide="server" class="w-10 h-10 mx-auto mb-3 text-accent dark:text-dark-accent" aria-hidden="true"></i>
                        <h4 class="text-lg font-semibold mb-1 text-primary-text dark:text-dark-primary-text font-heading">Systems & IT</h4>
                        <p class="skill-description text-xs text-secondary-text dark:text-dark-secondary-text font-body">Strong background in IT management, network maintenance, troubleshooting, and experience with ERP systems like Frappe/ERPNext.</p>
                    </div>
                </div>
                <p class="text-center mt-8 text-sm text-secondary-text dark:text-dark-secondary-text font-body reveal-hidden">
                    (Hover over a skill to learn more)
                 </p>
            </section>

            <section id="about-interests" class="py-16 px-4 md:px-8 lg:px-16 bg-secondary-bg/30 dark:bg-dark-secondary-bg/30 reveal-hidden">
                <h2 class="text-3xl md:text-4xl font-bold mb-12 text-center text-primary-text dark:text-dark-primary-text font-heading tracking-tight reveal-hidden">When I'm Not Analyzing Data...</h2>
                <div class="max-w-4xl mx-auto text-center">
                    <p class="text-lg text-secondary-text dark:text-dark-secondary-text mb-8 leading-relaxed font-body reveal-hidden">
                        While I love diving deep into datasets and algorithms, life exists beyond the screen! Finding balance is key. When I step away from the keyboard, you'll often find me recharging in a couple of ways:
                    </p>
                    <div class="flex flex-col sm:flex-row justify-center items-center gap-8">
                        <div class="text-center reveal-hidden" style="transition-delay: 100ms;">
                            <i data-lucide="mountain-snow" class="w-16 h-16 mx-auto mb-4 text-emerald-green" aria-hidden="true"></i>
                            <h4 class="text-xl font-semibold mb-2 text-primary-text dark:text-dark-primary-text font-heading">Exploring the Outdoors</h4>
                            <p class="text-sm text-secondary-text dark:text-dark-secondary-text font-body max-w-xs mx-auto">
                                There's nothing quite like hiking to clear the mind and gain perspective. Exploring trails around Kenya offers a refreshing contrast to the digital world.
                            </p>
                            </div>
                        <div class="text-center reveal-hidden" style="transition-delay: 200ms;">
                            <i data-lucide="award" class="w-16 h-16 mx-auto mb-4 text-red-coral" aria-hidden="true"></i> <h4 class="text-xl font-semibold mb-2 text-primary-text dark:text-dark-primary-text font-heading">Passion for Rugby</h4>
                            <p class="text-sm text-secondary-text dark:text-dark-secondary-text font-body max-w-xs mx-auto">
                                The teamwork, strategy, and physicality of rugby have always resonated with me. It's a great way to stay active and embrace collaborative effort.
                            </p>
                             </div>
                    </div>
                    <p class="text-lg text-secondary-text dark:text-dark-secondary-text mt-10 leading-relaxed font-body reveal-hidden">
                       I'm also deeply interested in <strong class="text-accent dark:text-dark-accent">AI Research</strong>, contributing to <strong class="text-accent dark:text-dark-accent">Open-Source</strong> projects, staying updated on <strong class="text-accent dark:text-dark-accent">Cybersecurity</strong> trends, and exploring innovations in <strong class="text-accent dark:text-dark-accent">Cloud Computing & DevOps</strong>. Learning never stops!
                    </p>
                </div>
            </section>

            <section id="about-connect" class="py-16 px-4 md:px-8 lg:px-16 text-center bg-primary-bg dark:bg-dark-primary-bg reveal-hidden">
                 <h2 class="text-3xl md:text-4xl font-bold mb-6 text-primary-text dark:text-dark-primary-text font-heading tracking-tight reveal-hidden">Let's Build Something Together</h2>
                 <p class="text-lg text-secondary-text dark:text-dark-secondary-text max-w-2xl mx-auto mb-8 leading-relaxed font-body reveal-hidden">
                     Whether you have a specific project in mind, want to discuss the latest in machine learning, or just want to connect with a fellow tech enthusiast, I'd love to hear from you.
                 </p>
                 <div class="reveal-hidden">
                     <a href="index.html#contact" class="interactive-element group relative inline-flex items-center justify-center px-8 py-3 bg-gradient-to-r from-accent to-accent-secondary dark:from-dark-accent dark:to-dark-accent-secondary text-white dark:text-jet-black font-semibold rounded-lg shadow-lg hover:shadow-accent/30 dark:hover:shadow-dark-accent/30 transition-all duration-300 ease-out overflow-hidden transform hover:-translate-y-1 hover:scale-103 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-accent dark:focus:ring-dark-accent">
                         Get in Touch
                         <i data-lucide="arrow-right" class="ml-2 h-5 w-5 transform transition-transform duration-300 group-hover:translate-x-1" aria-hidden="true"></i>
                     </a>
                 </div>
                 </section>

        </main>

        <footer class="bg-secondary-bg/10 dark:bg-dark-secondary-bg text-secondary-text dark:text-dark-secondary-text py-6 px-4 md:px-8 text-center text-sm reveal-hidden opacity-0 border-t border-secondary-text/10 dark:border-dark-secondary-text/10 font-body">
             © <span id="currentYear"></span> Daniel Wanjala. All rights reserved. | Data-Driven Insights. Real-World Impact.
        </footer>

        <button id="back-to-top" aria-label="Back to Top" class="interactive-element p-3 rounded-full bg-accent dark:bg-dark-accent text-white dark:text-jet-black shadow-lg hover:bg-accent-secondary dark:hover:bg-dark-accent-secondary transition-all duration-300">
            <i data-lucide="arrow-up" class="h-5 w-5" aria-hidden="true"></i>
        </button>

    </div> <script defer>
        document.addEventListener('DOMContentLoaded', () => {
            // --- Initialize Lucide Icons ---
            try {
                if (typeof lucide !== 'undefined') { lucide.createIcons(); }
                else { console.warn('Lucide icons library not loaded yet.'); }
            } catch (e) { console.error('Error creating Lucide icons:', e); }

            // --- Constants and State ---
            const scrollRevealThreshold = 0.1;
            const scrollRevealRootMargin = "0px 0px -50px 0px";
            const navScrollThreshold = 0; // Threshold for nav highlighting
            const navScrollRootMargin = "-20% 0px -70% 0px"; // Active area for nav highlighting
            let toneJsStarted = false;
            let synth, clickSynth;
            let particleAnimationId = null;
            let mouse = { x: null, y: null };
            let currentActiveSectionId = 'about'; // Default for this page

            // --- DOM Element References ---
            const htmlEl = document.documentElement;
            const bodyEl = document.body;
            const mainHeader = document.getElementById('main-header');
            const themeToggleButton = document.getElementById('theme-toggle');
            const themeIconSun = document.getElementById('theme-icon-sun');
            const themeIconMoon = document.getElementById('theme-icon-moon');
            const mobileMenuButton = document.getElementById('mobile-menu-button');
            const mobileMenu = document.getElementById('mobile-menu');
            const menuIconOpen = document.getElementById('menu-icon-open');
            const menuIconClose = document.getElementById('menu-icon-close');
            const currentYearEl = document.getElementById('currentYear');
            const scrollProgressBar = document.getElementById('scrollProgressBar');
            const navLinks = document.querySelectorAll('#desktop-nav .nav-link');
            const mobileNavLinks = document.querySelectorAll('#mobile-menu .mobile-nav-link');
            // const sections = document.querySelectorAll('main section[id]'); // Use if local nav highlighting needed
            const mainContentContainer = document.getElementById('main-content-container');
            const particleCanvas = document.getElementById('particle-canvas');
            const backToTopButton = document.getElementById('back-to-top');
            const interactiveElements = document.querySelectorAll('a[href], button, [role="button"], [role="link"], .interactive-element'); // Select interactive elements

            // --- Initial Setup Functions ---
            function setupToneJS() {
                const startTone = () => {
                    if (toneJsStarted || typeof Tone === 'undefined') return;
                    try {
                        Tone.start();
                        synth = new Tone.Synth({ oscillator: { type: 'sine' }, envelope: { attack: 0.005, decay: 0.1, sustain: 0.1, release: 0.1 }, volume: -25 }).toDestination();
                        clickSynth = new Tone.Synth({ oscillator: { type: 'triangle' }, envelope: { attack: 0.001, decay: 0.1, sustain: 0.05, release: 0.1 }, volume: -20 }).toDestination();
                        toneJsStarted = true;
                        console.log("Tone.js AudioContext started.");
                        ['click', 'keydown', 'touchstart'].forEach(evt => bodyEl.removeEventListener(evt, startTone));
                    } catch (e) { console.error("Tone.js initialization failed:", e); toneJsStarted = false; }
                };
                ['click', 'keydown', 'touchstart'].forEach(evt => bodyEl.addEventListener(evt, startTone, { once: true, passive: true }));
            }

            function addSoundFeedback() {
                interactiveElements.forEach(el => {
                    el.addEventListener('mouseenter', () => {
                        if (toneJsStarted && synth) { try { synth.triggerAttackRelease('C5', '16n', Tone.now()); } catch(e) {} }
                    });
                    el.addEventListener('click', () => {
                        if (toneJsStarted && clickSynth) { try { clickSynth.triggerAttackRelease('E4', '16n', Tone.now()); } catch(e) {} }
                    });
                });
            }

            function setFooterYear() {
                 if (currentYearEl) currentYearEl.textContent = new Date().getFullYear();
            }

            // --- Core Functionality ---
             function updateThemeUI() {
                if (!htmlEl || !bodyEl) return;
                const isDark = htmlEl.classList.contains('dark');
                if (themeIconSun && themeIconMoon) {
                    themeIconSun.classList.toggle('hidden', !isDark);
                    themeIconMoon.classList.toggle('hidden', isDark);
                    try { lucide.createIcons(); } catch(e) {}
                }
                const noiseLight = "url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='4' height='4' viewBox='0 0 4 4'%3E%3Cpath fill='%239C92AC' fill-opacity='0.10' d='M1 3h1v1H1V3zm2-2h1v1H3V1z'%3E%3C/path%3E%3C/svg%3E\")";
                const noiseDark = "url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='4' height='4' viewBox='0 0 4 4'%3E%3Cpath fill='%23C5C6C7' fill-opacity='0.05' d='M1 3h1v1H1V3zm2-2h1v1H3V1z'%3E%3C/path%3E%3C/svg%3E\")";
                bodyEl.style.backgroundImage = isDark ? noiseDark : noiseLight;
                if (particleCanvas) initParticles(); // Re-init particles on theme change
            }

            function setTheme(theme) {
                if (!htmlEl) return;
                htmlEl.classList.toggle('dark', theme === 'dark');
                localStorage.setItem('theme', theme);
                updateThemeUI();
                if (toneJsStarted && clickSynth) { try { clickSynth.triggerAttackRelease(theme === 'dark' ? 'C3' : 'G3', '8n', Tone.now()); } catch(e) {} }
            }

            function toggleMobileMenu() {
                 if (!mobileMenuButton || !mobileMenu || !menuIconOpen || !menuIconClose) return;
                 const isExpanded = mobileMenuButton.getAttribute('aria-expanded') === 'true';
                 mobileMenuButton.setAttribute('aria-expanded', !isExpanded);
                 mobileMenu.classList.toggle('open');
                 menuIconOpen.classList.toggle('hidden');
                 menuIconClose.classList.toggle('hidden');
            }

             function closeMobileMenu() {
                if (!mobileMenuButton || !mobileMenu || !menuIconOpen || !menuIconClose) return;
                if (mobileMenuButton.getAttribute('aria-expanded') === 'true') {
                    mobileMenuButton.setAttribute('aria-expanded', 'false');
                    mobileMenu.classList.remove('open');
                    menuIconOpen.classList.remove('hidden');
                    menuIconClose.classList.add('hidden');
                }
            }

            function handleScroll() {
                if (!htmlEl || !scrollProgressBar || !mainHeader) return;
                const scrollableHeight = htmlEl.scrollHeight - window.innerHeight;
                const scrolled = window.scrollY;
                const progress = scrollableHeight > 0 ? Math.min(1, scrolled / scrollableHeight) : 0;
                scrollProgressBar.style.transform = `scaleX(${progress})`;
                mainHeader.classList.toggle('scrolled', scrolled > 50);
                if (backToTopButton) { backToTopButton.classList.toggle('visible', scrolled > 300); }
            }

            function setupScrollReveal() {
                const revealObserverOptions = { threshold: scrollRevealThreshold, rootMargin: scrollRevealRootMargin };
                const revealCallback = (entries, observer) => {
                    entries.forEach((entry, index) => {
                        if (entry.isIntersecting) {
                            const delay = entry.target.dataset.revealDelay ? parseInt(entry.target.dataset.revealDelay) : (index * 100);
                            entry.target.style.transitionDelay = `${delay}ms`;
                            entry.target.classList.add('reveal-visible');
                            if (entry.target.classList.contains('reveal-slide-left') || entry.target.classList.contains('reveal-slide-right')) {
                                entry.target.classList.add('slide-in');
                            }
                            // Example: Trigger timeline icon pulse on reveal
                            if (entry.target.classList.contains('timeline-item')) {
                                const iconWrapper = entry.target.querySelector('.timeline-icon-wrapper');
                                // Add a class or style to trigger animation if needed
                                // iconWrapper.classList.add('animate-pulse-icon'); // Requires defining this animation
                            }
                            observer.unobserve(entry.target);
                        }
                    });
                };
                const revealObserver = new IntersectionObserver(revealCallback, revealObserverOptions);
                document.querySelectorAll('.reveal-hidden, .reveal-slide-left, .reveal-slide-right').forEach(el => revealObserver.observe(el));
            }

             function setupNavHighlighting() {
                // Simplified for About page: Highlight the 'About' link
                navLinks.forEach(link => {
                    link.classList.toggle('nav-active', link.getAttribute('data-section') === 'about');
                });
                mobileNavLinks.forEach(link => {
                    link.classList.toggle('nav-active', link.getAttribute('data-section') === 'about');
                });
                // If you add more sections *within* about.html and want local nav highlighting,
                // you'd re-implement the IntersectionObserver logic from index.html here,
                // observing the sections within this page's main element.
            }

            function setupTiltEffect() {
                 if (!mainContentContainer) return;
                 const handleOrientation = (event) => {
                     if (event.beta === null || event.gamma === null) return;
                     const beta = Math.max(-20, Math.min(20, event.beta));
                     const gamma = Math.max(-20, Math.min(20, event.gamma));
                     const maxTilt = 1.5;
                     const tiltY = (beta / 20 * maxTilt).toFixed(2);
                     const tiltX = (gamma / 20 * -maxTilt).toFixed(2);
                     requestAnimationFrame(() => {
                        mainContentContainer.style.transform = `perspective(1500px) rotateX(${tiltY}deg) rotateY(${tiltX}deg)`;
                     });
                 };
                 if (window.DeviceOrientationEvent) { window.addEventListener('deviceorientation', handleOrientation, true); }
                 else { console.log("DeviceOrientation not supported."); }
            }

            function setupBackToTop() {
                if (backToTopButton) {
                    backToTopButton.addEventListener('click', () => {
                        window.scrollTo({ top: 0, behavior: 'smooth' });
                    });
                }
            }

            // --- Particle Background Logic (Copied from index.html) ---
            let particles = [];
            function initParticles() {
                if (!particleCanvas) return;
                const ctx = particleCanvas.getContext('2d');
                if (!ctx) return;
                if (particleAnimationId) cancelAnimationFrame(particleAnimationId);
                resizeCanvas();
                particles.forEach(p => p.baseColor = null);
                createParticles();
                if (!document.hidden) { drawParticles(); }
            }
            function resizeCanvas() {
                if (!particleCanvas) return;
                particleCanvas.width = window.innerWidth;
                particleCanvas.height = window.innerHeight;
            }
            function createParticles() {
                if (!particleCanvas) return;
                particles = [];
                const particleCount = Math.floor((particleCanvas.width * particleCanvas.height) / 18000);
                for (let i = 0; i < particleCount; i++) {
                    particles.push({
                        x: Math.random() * particleCanvas.width, y: Math.random() * particleCanvas.height,
                        vx: (Math.random() - 0.5) * 0.3, vy: (Math.random() - 0.5) * 0.3,
                        radius: Math.random() * 1.8 + 0.8, baseRadius: Math.random() * 1.8 + 0.8,
                        baseColor: null, drawColor: null,
                    });
                }
            }
            function drawParticles() {
                if (!particleCanvas) return;
                const ctx = particleCanvas.getContext('2d');
                if (!ctx) return;
                ctx.clearRect(0, 0, particleCanvas.width, particleCanvas.height);
                const isDark = htmlEl.classList.contains('dark');
                const twConfig = tailwind.config.theme.extend.colors;
                const lightColors = [`${twConfig.accent}80`, `${twConfig['accent-secondary']}80`, `${twConfig['tertiary-light']}60`];
                const darkColors = [`${twConfig['dark-accent']}80`, `${twConfig['dark-accent-secondary']}80`, `${twConfig['tertiary-dark']}60`];
                const themeColors = isDark ? darkColors : lightColors;
                const lineColor = isDark ? 'rgba(197, 198, 199, 0.05)' : 'rgba(74, 74, 74, 0.05)';
                const particleInteractionRadius = 120;
                const particleLineThreshold = 110;

                particles.forEach((p, i) => {
                    if (!p.baseColor) p.baseColor = themeColors[Math.floor(Math.random() * themeColors.length)];
                    p.drawColor = p.baseColor; p.radius = p.baseRadius;
                    if (mouse.x !== null && mouse.y !== null) {
                        const dx = mouse.x - p.x; const dy = mouse.y - p.y;
                        const distance = Math.sqrt(dx * dx + dy * dy);
                        if (distance < particleInteractionRadius) {
                            const proximityFactor = 1 - (distance / particleInteractionRadius);
                            const baseHex = p.baseColor.substring(0, 7);
                            const currentAlphaHex = p.baseColor.substring(7, 9) || '80';
                            const currentAlphaDec = parseInt(currentAlphaHex, 16);
                            const targetAlphaDec = Math.min(255, Math.floor(currentAlphaDec + proximityFactor * 100));
                            p.drawColor = `${baseHex}${targetAlphaDec.toString(16).padStart(2, '0')}`;
                            p.radius = p.baseRadius + proximityFactor * 1.5;
                            const force = proximityFactor; const pushStrength = 0.4;
                            p.x -= (dx / distance) * force * pushStrength; p.y -= (dy / distance) * force * pushStrength;
                        }
                    }
                    ctx.fillStyle = p.drawColor; ctx.beginPath(); ctx.arc(p.x, p.y, p.radius, 0, Math.PI * 2); ctx.fill();
                    p.x += p.vx; p.y += p.vy;
                    if (p.x < -p.radius) p.x = particleCanvas.width + p.radius; if (p.x > particleCanvas.width + p.radius) p.x = -p.radius;
                    if (p.y < -p.radius) p.y = particleCanvas.height + p.radius; if (p.y > particleCanvas.height + p.radius) p.y = -p.radius;
                    for (let j = i + 1; j < particles.length; j++) {
                        const p2 = particles[j]; const dx = p.x - p2.x; const dy = p.y - p2.y;
                        const distance = Math.sqrt(dx * dx + dy * dy);
                        if (distance < particleLineThreshold) {
                            ctx.strokeStyle = lineColor; ctx.lineWidth = 0.5 * (1 - distance / particleLineThreshold);
                            ctx.beginPath(); ctx.moveTo(p.x, p.y); ctx.lineTo(p2.x, p2.y); ctx.stroke();
                        }
                    }
                });
                particleAnimationId = requestAnimationFrame(drawParticles);
            }
            const updateMousePosition = (event) => {
                if (!particleCanvas) return; const rect = particleCanvas.getBoundingClientRect();
                const clientX = event.touches ? event.touches[0].clientX : event.clientX;
                const clientY = event.touches ? event.touches[0].clientY : event.clientY;
                mouse.x = clientX - rect.left; mouse.y = clientY - rect.top;
            };
            const resetMousePosition = () => { mouse.x = null; mouse.y = null; };
            if (particleCanvas) {
                particleCanvas.addEventListener('mousemove', updateMousePosition);
                particleCanvas.addEventListener('touchmove', updateMousePosition, { passive: true });
                particleCanvas.addEventListener('mouseleave', resetMousePosition);
                particleCanvas.addEventListener('touchend', resetMousePosition);
                let resizeTimeout;
                window.addEventListener('resize', () => { clearTimeout(resizeTimeout); resizeTimeout = setTimeout(initParticles, 250); });
                document.addEventListener('visibilitychange', () => {
                    if (!particleCanvas) return;
                    if (document.hidden) { if (particleAnimationId) { cancelAnimationFrame(particleAnimationId); particleAnimationId = null; } }
                    else { if (!particleAnimationId) { drawParticles(); } }
                });
            }
            // --- End Particle Logic ---


            // --- Event Listeners & Initialization Call ---
            if (themeToggleButton) {
                themeToggleButton.addEventListener('click', () => {
                    const newTheme = htmlEl.classList.contains('dark') ? 'light' : 'dark';
                    setTheme(newTheme);
                });
            }
            if (mobileMenuButton) { mobileMenuButton.addEventListener('click', toggleMobileMenu); }
            mobileNavLinks.forEach(link => { link.addEventListener('click', closeMobileMenu); }); // Close mobile menu on link click
            window.addEventListener('scroll', handleScroll, { passive: true });

            // --- Initialize Everything ---
            setupToneJS();
            addSoundFeedback();
            setFooterYear();
            updateThemeUI(); // Set initial theme UI state
            setupScrollReveal();
            setupNavHighlighting(); // Set initial nav state
            setupTiltEffect();
            setupBackToTop();
            if (particleCanvas) initParticles(); // Start particle animation

        }); // End DOMContentLoaded
    </script>

</body>
</html>
