<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Daniel Wanjala - Portfolio | Data Scientist | ML Engineer | Innovator</title>
    <link rel="icon" href="assets/logo.png" type="image/png">

    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/lucide-react@latest/dist/umd/lucide.js"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;700&family=Space+Grotesk:wght@500;700&display=swap" rel="stylesheet">
    <script src="https://unpkg.com/@lottiefiles/lottie-player@latest/dist/lottie-player.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.11/clipboard.min.js"></script>
    <script src="https://cdn.jsdelivr.net/particles.js/2.0.0/particles.min.js"></script>
    <script src="https://unpkg.com/typed.js@2.0.16/dist/typed.umd.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">


    <style>
        /* --- Theme Variables --- */
        :root {
            /* Light Theme (Default) */
            --bg-primary: #f4f7fe; /* Slightly different light blue */
            --bg-secondary: #ffffff;
            --bg-accent: #eef2ff;
            --bg-glass: rgba(255, 255, 255, 0.65);
            --text-primary: #1f2937; /* Dark Gray */
            --text-secondary: #4b5563; /* Medium Gray */
            --text-accent: #5c6ac4; /* Softer Indigo */
            --text-accent-hover: #4452a1; /* Darker Soft Indigo */
            --text-heading: #111827; /* Darkest Gray */
            --border-color: rgba(0, 0, 0, 0.08); /* Softer border */
            --gradient-start: #5c6ac4;
            --gradient-mid: #9f7aea; /* Adjusted Purple */
            --gradient-end: #ed64a6; /* Adjusted Pink */
            --shadow-color: rgba(92, 106, 196, 0.15); /* Softer shadow */
            --hero-overlay-bg: rgba(255, 255, 255, 0.85);
            --scrollbar-thumb: #a7a7d1; /* Softer scrollbar */
            --scrollbar-track: transparent;
            --loader-bg: var(--bg-primary);
            --loader-color: var(--text-accent);
            --loader-logo-filter: none;
            /* Chat specific */
            --chat-widget-bg: rgba(255, 255, 255, 0.95);
            --chat-header-bg: rgba(244, 247, 254, 0.9);
            --chat-body-color: var(--text-primary);
            --chat-input-area-bg: rgba(249, 250, 251, 0.9);
            --chat-input-bg: #ffffff;
            --chat-input-border: #d1d5db;
            --chat-input-text: var(--text-primary);
            --chat-send-btn-bg: var(--text-accent);
            --chat-send-btn-text: #ffffff;
            --chat-send-btn-hover-bg: var(--text-accent-hover);
            --chat-control-icon-color: var(--text-secondary);
            --chat-control-icon-hover-color: var(--text-primary);
            --chat-user-msg-bg: rgba(224, 231, 255, 0.8); /* Slightly more opaque */
            --chat-ai-msg-bg: rgba(243, 244, 246, 0.8);
        }

        .dark-mode {
            /* Dark Theme */
            --bg-primary: #121826; /* Slightly different dark */
            --bg-secondary: #1a2233; /* Darker secondary */
            --bg-accent: #2c3a52; /* Dark accent */
            --bg-glass: rgba(26, 34, 51, 0.7);
            --text-primary: #e5e7eb; /* Lighter primary text */
            --text-secondary: #9ca3af;
            --text-accent: #90a0f0; /* Lighter accent */
            --text-accent-hover: #b0bff9; /* Even lighter hover */
            --text-heading: #ffffff;
            --border-color: rgba(255, 255, 255, 0.1); /* Lighter border */
            --gradient-start: #90a0f0;
            --gradient-mid: #c471ed; /* Adjusted Purple */
            --gradient-end: #f7797d; /* Adjusted Pink */
            --shadow-color: rgba(144, 160, 240, 0.15); /* Adjusted shadow */
            --hero-overlay-bg: rgba(18, 24, 38, 0.85);
            --scrollbar-thumb: #4a5568; /* Darker scrollbar */
            --scrollbar-track: transparent;
            --loader-bg: var(--bg-primary);
            --loader-color: var(--text-accent);
            --loader-logo-filter: brightness(0) invert(1);
            /* Chat specific */
            --chat-widget-bg: rgba(26, 34, 51, 0.95);
            --chat-header-bg: rgba(44, 58, 82, 0.9);
            --chat-body-color: var(--text-primary);
            --chat-input-area-bg: rgba(18, 24, 38, 0.9);
            --chat-input-bg: #2c3a52;
            --chat-input-border: #4a5568;
            --chat-input-text: var(--text-primary);
            --chat-send-btn-bg: var(--text-accent);
            --chat-send-btn-text: #121826; /* Dark text on light accent */
            --chat-send-btn-hover-bg: var(--text-accent-hover);
            --chat-control-icon-color: var(--text-secondary);
            --chat-control-icon-hover-color: var(--text-primary);
            --chat-user-msg-bg: rgba(74, 85, 104, 0.8); /* Dark gray */
            --chat-ai-msg-bg: rgba(44, 58, 82, 0.8); /* Darker gray */
        }

        /* --- Base & General Styles --- */
        html { scroll-behavior: smooth; }
        body {
            font-family: 'Inter', sans-serif;
            background-color: var(--bg-primary);
            color: var(--text-primary);
            overflow-x: hidden;
            transition: background-color 0.4s ease, color 0.4s ease;
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
        }

        h1, h2, h3, h4, h5, h6 {
            font-family: 'Space Grotesk', sans-serif;
            color: var(--text-heading);
            transition: color 0.4s ease;
        }

        .gradient-text {
            background: linear-gradient(90deg, var(--gradient-start), var(--gradient-mid), var(--gradient-end));
            -webkit-background-clip: text; background-clip: text; color: transparent;
        }

        /* --- Loading Overlay --- */
        #loading-overlay {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background-color: var(--loader-bg);
            display: flex; flex-direction: column; justify-content: center; align-items: center;
            z-index: 10000;
            opacity: 1;
            transition: opacity 0.7s ease-out 0.3s;
            pointer-events: auto;
        }
        #loading-overlay.hidden { opacity: 0; pointer-events: none; }
        .loader-logo { height: 60px; width: auto; margin-bottom: 25px; filter: var(--loader-logo-filter); animation: pulse 2s infinite ease-in-out; }
        .loader-spinner { border: 4px solid rgba(128, 128, 128, 0.2); border-left-color: var(--loader-color); border-radius: 50%; width: 40px; height: 40px; animation: spin 1.2s linear infinite; }
        @keyframes spin { to { transform: rotate(360deg); } }
        @keyframes pulse { 0%, 100% { opacity: 0.8; transform: scale(1); } 50% { opacity: 1; transform: scale(1.05); } }


        /* --- Navigation --- */
        #main-header {
            transition: background-color 0.3s ease, box-shadow 0.3s ease, border-color 0.3s ease;
            background: transparent;
            border-bottom: 1px solid transparent; /* Start with transparent border */
        }
        #main-header.scrolled {
            background: var(--bg-glass);
            -webkit-backdrop-filter: blur(12px); /* Increased blur */
            backdrop-filter: blur(12px);
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.05); /* Softer shadow */
            border-bottom: 1px solid var(--border-color);
        }
        .nav-link {
            color: var(--text-secondary);
            transition: color 0.3s ease, border-bottom-color 0.3s ease;
            padding: 0.5rem 0.75rem;
            font-size: 0.9rem;
            font-weight: 500;
            position: relative;
            border-bottom: 2px solid transparent;
        }
        .nav-link::after { content: ''; display: block; width: 0; height: 2px; background: var(--text-accent); transition: width .3s ease-out; position: absolute; bottom: -2px; left: 0; transform-origin: left; }
        .nav-link:hover::after, .nav-link.active::after { width: 100%; }
        .nav-link:hover, .nav-link.active { color: var(--text-heading); }
        #mobile-menu { background-color: var(--bg-secondary); border-top: 1px solid var(--border-color); }
        #mobile-menu a { color: var(--text-primary); display: block; padding: 0.75rem 1.5rem; transition: background-color 0.2s ease, color 0.2s ease; }
        #mobile-menu a:hover, #mobile-menu a.active { background-color: var(--bg-accent); color: var(--text-accent); }


        /* --- Buttons --- */
        .cta-button {
            background: linear-gradient(95deg, var(--gradient-start), var(--gradient-mid)); /* Slightly adjusted angle */
            color: white;
            padding: 0.8rem 2rem; /* Increased padding */
            border-radius: 9999px;
            font-weight: 600;
            transition: all 0.35s cubic-bezier(0.25, 0.8, 0.25, 1);
            box-shadow: 0 5px 18px var(--shadow-color);
            display: inline-block; text-align: center;
            border: none; cursor: pointer;
            letter-spacing: 0.025em; /* Slight letter spacing */
        }
        .cta-button:hover {
            transform: translateY(-4px) scale(1.04);
            box-shadow: 0 10px 30px color-mix(in srgb, var(--shadow-color) 140%, black);
        }
        .cta-button-secondary {
             background-color: transparent;
             border: 2px solid var(--text-accent);
             color: var(--text-accent);
             padding: 0.7rem 1.6rem; /* Adjusted padding */
             border-radius: 9999px;
             font-weight: 600;
             transition: all 0.3s ease;
             display: inline-block; text-align: center;
             letter-spacing: 0.025em;
        }
        .cta-button-secondary:hover {
            background-color: var(--text-accent);
            color: var(--bg-secondary); /* Ensure contrast */
            transform: translateY(-3px);
            box-shadow: 0 4px 12px var(--shadow-color);
        }

        /* --- General Layout & Spacing --- */
        section {
            scroll-margin-top: 80px;
            padding-top: 7rem; padding-bottom: 7rem; /* Increased padding */
        }
        .container { max-width: 1150px; } /* Wider container */

        /* --- Particle canvas --- */
        #particles-js { position: absolute; width: 100%; height: 100%; top: 0; left: 0; z-index: 0; }
        .content-above { position: relative; z-index: 1; }

        /* --- Section Transitions --- */
        .section-container {
            opacity: 0;
            transform: translateY(50px) scale(0.98); /* Start slightly down and smaller */
            transition: opacity 1s cubic-bezier(0.165, 0.84, 0.44, 1), transform 1s cubic-bezier(0.165, 0.84, 0.44, 1);
            will-change: opacity, transform;
        }
        .section-container.visible { opacity: 1; transform: translateY(0) scale(1); }

        /* --- Cards --- */
        .card-base {
            background-color: var(--bg-secondary);
            border: 1px solid var(--border-color);
            border-radius: 1rem;
            padding: 1.75rem; /* p-7 */
            box-shadow: 0 6px 12px rgba(0,0,0,0.04); /* Slightly increased shadow */
            transition: transform 0.35s ease, box-shadow 0.35s ease, border-color 0.35s ease, background-color 0.4s ease;
        }
        .card-hover:hover {
            transform: translateY(-8px); /* More lift */
            box-shadow: 0 15px 30px var(--shadow-color); /* Enhanced shadow */
            border-color: var(--text-accent);
        }

        /* --- Project Card Specific --- */
        .project-card { height: 100%; display: flex; flex-direction: column; }
        .project-card img { aspect-ratio: 16 / 9; object-fit: cover; border-radius: 0.75rem; margin-bottom: 1.25rem; border: 1px solid var(--border-color); transition: transform 0.3s ease; }
        .project-card:hover img { transform: scale(1.03); }
        .project-card .flex-grow { flex-grow: 1; }
        .project-card .mt-auto { margin-top: auto; }

        /* --- Timeline --- */
        .timeline { position: relative; padding: 2rem 0; margin-left: 25px; } /* Increased margin */
        .timeline::before { content: ''; position: absolute; top: 0; left: 0px; height: 100%; width: 4px; border-radius: 2px; background: var(--border-color); transition: background-color 0.4s ease; background: linear-gradient(to bottom, var(--text-accent), color-mix(in srgb, var(--text-accent) 20%, transparent)); opacity: 0.5; } /* Gradient line */
        .timeline-item { margin-bottom: 3rem; position: relative; padding-left: 45px; }
        .timeline-dot { position: absolute; left: 0; top: 8px; transform: translateX(-50%) translateX(2px); width: 20px; height: 20px; border-radius: 50%; border: 5px solid var(--bg-primary); background-color: var(--text-accent); transition: all 0.3s ease; box-shadow: 0 0 0 4px color-mix(in srgb, var(--text-accent) 25%, transparent); }
        .timeline-item:hover .timeline-dot { transform: translateX(-50%) translateX(2px) scale(1.25); box-shadow: 0 0 20px color-mix(in srgb, var(--text-accent) 40%, transparent); background-color: var(--text-accent-hover); }
        .timeline-content { padding: 1.5rem; border-radius: 0.75rem; transition: box-shadow 0.3s ease, transform 0.3s ease, background-color 0.4s ease, border-color 0.4s ease; border: 1px solid var(--border-color); background-color: var(--bg-secondary); }
        .timeline-item:hover .timeline-content { box-shadow: 0 10px 30px rgba(0,0,0,0.07); transform: translateX(8px) rotate(-0.5deg); border-color: color-mix(in srgb, var(--text-accent) 40%, transparent); }

        /* --- Lottie Player --- */
        lottie-player { width: 100%; max-width: 180px; height: auto; margin: 1rem auto; }
        .lottie-placeholder-container { display: flex; justify-content: center; align-items: center; min-height: 180px; }

        /* --- WebGL/AR Placeholders --- */
        .tech-placeholder {
            background-color: var(--bg-accent); border: 1px dashed var(--border-color);
            border-radius: 0.75rem; padding: 2rem 1rem; min-height: 250px;
            display: flex; flex-direction: column; justify-content: center; align-items: center; text-align: center;
            color: var(--text-secondary); transition: background-color 0.4s ease, border-color 0.4s ease, color 0.4s ease;
        }
        .tech-placeholder i { font-size: 2.5rem; margin-bottom: 0.75rem; opacity: 0.7; color: var(--text-accent); transition: transform 0.3s ease; }
        .tech-placeholder:hover i { transform: scale(1.1) rotate(5deg); }
        .tech-placeholder p { font-size: 0.85rem; max-width: 350px; }
        .tech-placeholder .tech-label { font-weight: 600; color: var(--text-heading); margin-top: 0.5rem; }

        /* --- AI Chat Widget --- */
        #ai-chat-widget {
            position: fixed; bottom: 25px; right: 25px; width: 350px; /* Wider */
            max-height: calc(100vh - 100px);
            border-radius: 1rem;
            box-shadow: 0 12px 35px rgba(0, 0, 0, 0.18); /* Stronger shadow */
            z-index: 1000; display: flex; flex-direction: column; overflow: hidden;
            opacity: 0; transform: translateY(25px) scale(0.95);
            transition: all 0.4s cubic-bezier(0.165, 0.84, 0.44, 1); /* Unified transition */
            background-color: var(--chat-widget-bg);
            border: 1px solid var(--border-color);
            backdrop-filter: blur(10px); -webkit-backdrop-filter: blur(10px);
        }
        #ai-chat-widget.visible { opacity: 1; transform: translateY(0) scale(1); }
        #ai-chat-widget.minimized { height: 55px; width: 230px; bottom: 20px; right: 20px; cursor: pointer; overflow: hidden; } /* Hide overflow when minimized */
        #ai-chat-widget.minimized #ai-chat-body,
        #ai-chat-widget.minimized #ai-chat-input-area { display: none; }
        #ai-chat-widget.minimized #ai-chat-header { cursor: pointer; }
        #ai-chat-header {
            padding: 0.8rem 1.1rem; font-weight: 600;
            display: flex; justify-content: space-between; align-items: center;
            cursor: grab; border-bottom: 1px solid var(--border-color);
            background-color: var(--chat-header-bg); color: var(--text-heading);
            transition: background-color 0.4s ease, border-color 0.4s ease, color 0.4s ease;
        }
        #ai-chat-header:active { cursor: grabbing; }
        #ai-chat-body {
            flex-grow: 1; padding: 1.1rem; overflow-y: auto; font-size: 0.9rem;
            color: var(--chat-body-color); scrollbar-width: thin; scrollbar-color: var(--scrollbar-thumb) var(--scrollbar-track);
            min-height: 180px; /* Increased min height */
            transition: color 0.4s ease;
        }
        #ai-chat-body p { margin-bottom: 0.8rem; line-height: 1.55; max-width: 95%; } /* Limit width slightly */
        #ai-chat-body .user-message { text-align: right; background-color: var(--chat-user-msg-bg); padding: 0.6rem 0.85rem; border-radius: 0.85rem 0.85rem 0.2rem 0.85rem; margin-left: 2.5rem; transition: background-color 0.4s ease; float: right; clear: both; } /* Float right */
        #ai-chat-body .ai-message { text-align: left; background-color: var(--chat-ai-msg-bg); padding: 0.6rem 0.85rem; border-radius: 0.85rem 0.85rem 0.85rem 0.2rem; margin-right: 2.5rem; transition: background-color 0.4s ease; float: left; clear: both; } /* Float left */
        #ai-chat-input-area {
            border-top: 1px solid var(--border-color); padding: 0.8rem; display: flex; align-items: center;
            background-color: var(--chat-input-area-bg); transition: background-color 0.4s ease, border-color 0.4s ease;
        }
        #ai-chat-input {
            flex-grow: 1; border: 1px solid var(--chat-input-border); border-radius: 0.5rem; padding: 0.7rem 0.9rem; /* Increased padding */
            outline: none; margin-right: 0.6rem; background-color: var(--chat-input-bg); color: var(--chat-input-text);
            transition: background-color 0.4s ease, border-color 0.4s ease, color 0.4s ease, box-shadow 0.2s ease;
        }
        #ai-chat-input:focus { box-shadow: 0 0 0 2px color-mix(in srgb, var(--text-accent) 20%, transparent); border-color: var(--text-accent); }
        #ai-chat-send-btn, #voice-input-btn {
            border: none; border-radius: 0.5rem; padding: 0.7rem; cursor: pointer;
            transition: background-color 0.2s, transform 0.1s, color 0.4s ease;
            display: flex; justify-content: center; align-items: center;
        }
        #ai-chat-send-btn { background-color: var(--chat-send-btn-bg); color: var(--chat-send-btn-text); padding: 0.7rem 0.9rem; }
        #ai-chat-send-btn:hover { background-color: var(--chat-send-btn-hover-bg); }
        #ai-chat-send-btn:active, #voice-input-btn:active { transform: scale(0.94); }
        #voice-input-btn { background: none; color: var(--chat-control-icon-color); margin-left: 0.3rem; }
        #voice-input-btn:hover { color: var(--chat-control-icon-hover-color); }
        #ai-chat-controls button { background: none; border: none; cursor: pointer; padding: 0.3rem; transition: color 0.2s, transform 0.2s ease; margin-left: 0.6rem; color: var(--chat-control-icon-color); }
        #ai-chat-controls button:hover { color: var(--chat-control-icon-hover-color); transform: scale(1.1); }

        /* --- Custom Scrollbar --- */
        ::-webkit-scrollbar { width: 9px; height: 9px; }
        ::-webkit-scrollbar-track { background: var(--scrollbar-track); }
        ::-webkit-scrollbar-thumb { background-color: var(--scrollbar-thumb); border-radius: 10px; border: 2px solid var(--bg-primary); transition: background-color 0.4s ease, border-color 0.4s ease; }
        ::-webkit-scrollbar-thumb:hover { background-color: color-mix(in srgb, var(--scrollbar-thumb) 80%, white); }
        .dark-mode ::-webkit-scrollbar-thumb:hover { background-color: color-mix(in srgb, var(--scrollbar-thumb) 80%, black); }
        /* Chat body scrollbar */
        #ai-chat-body::-webkit-scrollbar-thumb { background-color: color-mix(in srgb, var(--scrollbar-thumb) 80%, transparent); border: none; }
        #ai-chat-body::-webkit-scrollbar-track { background: transparent; }


        /* --- Skill Badges --- */
        .skill-badge { transition: all 0.3s ease; }
        .skill-badge.unlocked { background-color: var(--text-accent) !important; color: white !important; font-weight: bold; box-shadow: 0 0 10px color-mix(in srgb, var(--text-accent) 50%, transparent); }
        .dark-mode .skill-badge.unlocked { color: var(--bg-primary) !important; }

        /* --- Pulsing animation --- */
        .pulsate { animation: pulsate-animation 1.5s infinite ease-in-out; }
        @keyframes pulsate-animation { 0%, 100% { transform: scale(1); opacity: 1; } 50% { transform: scale(1.03); opacity: 0.8; } }

        /* --- Theme Toggle Button Icons --- */
        #theme-toggle i, #theme-toggle-mobile i { transition: transform 0.4s ease-out; }
        .dark-mode #theme-toggle i, .dark-mode #theme-toggle-mobile i { transform: rotate(180deg); }

        /* --- Footer --- */
        footer { background-color: var(--bg-secondary); border-top: 1px solid var(--border-color); transition: background-color 0.4s ease, border-color 0.4s ease; }

        /* --- Typed.js Cursor --- */
         .typed-cursor { opacity: 1; animation: typedjsBlink 0.7s infinite; color: var(--text-accent); }
         @keyframes typedjsBlink { 50% { opacity: 0.0; } }

         /* --- Input Fields --- */
         input[type="text"], input[type="email"], textarea {
            transition: border-color 0.3s ease, box-shadow 0.3s ease;
         }
         input[type="text"]:focus, input[type="email"]:focus, textarea:focus {
             border-color: var(--text-accent);
             box-shadow: 0 0 0 3px color-mix(in srgb, var(--text-accent) 20%, transparent);
         }

    </style>
</head>
<body class="antialiased">

    <div id="loading-overlay">
        <img src="assets/logo.png" alt="Daniel Wanjala Logo" class="loader-logo" onerror="this.style.display='none';">
        <div class="loader-spinner"></div>
    </div>

    <div id="ai-chat-widget" aria-live="polite">
        <div id="ai-chat-header">
            <span>AI Assistant</span>
            <div id="ai-chat-controls">
                <button id="ai-chat-minimize-btn" aria-label="Minimize chat widget">
                    <i data-lucide="minus" class="minimize-icon h-4 w-4"></i>
                    <i data-lucide="square" class="maximize-icon hidden h-4 w-4"></i>
                </button>
                <button id="ai-chat-close-btn" aria-label="Close chat widget">
                    <i data-lucide="x" class="h-4 w-4"></i>
                </button>
            </div>
        </div>
        <div id="ai-chat-body">
            <p class="ai-message">Greetings! I'm your AI guide to Daniel's work. Feel free to inquire about specific projects (like the GDP Model or Plant Detector), his skills (Python, ML, IT Management), or experiences for elaborated insights.</p>
            <div id="ai-recommendation" class="mt-4 p-3 bg-blue-900/50 rounded-lg border border-blue-700 text-xs text-blue-200 hidden transition-all duration-300">
                 <p class="flex items-start"><i data-lucide="lightbulb" class="inline h-4 w-4 mr-2 flex-shrink-0 mt-0.5"></i> <span id="recommendation-text">Recommendation placeholder...</span></p>
            </div>
        </div>
        <div id="ai-chat-input-area">
            <input type="text" id="ai-chat-input" placeholder="Ask about projects, skills..." aria-label="Chat input">
             <button id="voice-input-btn" title="Use Voice Input (Conceptual)" aria-label="Use voice input">
                <i data-lucide="mic" class="h-5 w-5"></i>
            </button>
            <button id="ai-chat-send-btn" aria-label="Send chat message">
                <i data-lucide="send" class="h-5 w-5"></i>
            </button>
        </div>
    </div>

    <header id="main-header" class="fixed top-0 left-0 right-0 z-50">
        <nav class="container mx-auto px-6 py-3 flex justify-between items-center">
            <a href="#home" class="flex items-center space-x-2 flex-shrink-0" aria-label="Home">
                 <img src="assets/logo.png" alt="Daniel Wanjala Logo" class="h-8 md:h-10 w-auto rounded" onerror="this.style.display='none'">
                 <span class="text-xl font-bold text-heading font-space-grotesk hidden sm:inline">Daniel Wanjala</span>
            </a>
            <div class="hidden lg:flex space-x-1 items-center flex-wrap">
                <a href="#about" class="nav-link">About</a>
                <a href="#experience" class="nav-link">Experience</a>
                <a href="#skills" class="nav-link">Skills</a>
                <a href="#projects" class="nav-link">Projects</a>
                <a href="#education" class="nav-link">Education</a>
                <a href="#certifications" class="nav-link">Certifications</a>
                <a href="#blog" class="nav-link">Blog</a>
                <a href="#contact" class="nav-link">Contact</a>
                <button id="theme-toggle" title="Toggle Theme" class="ml-4 p-2 rounded-full text-secondary hover:text-accent focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-accent transition-colors duration-200">
                    <i class="fas fa-moon text-lg"></i> </button>
            </div>
            <div class="lg:hidden flex items-center">
                 <button id="theme-toggle-mobile" title="Toggle Theme" class="p-2 rounded-full text-secondary hover:text-accent focus:outline-none transition-colors duration-200 mr-2">
                    <i class="fas fa-moon text-xl"></i>
                </button>
                <button id="mobile-menu-button" class="text-secondary hover:text-heading focus:outline-none" aria-label="Open mobile menu" aria-expanded="false">
                    <i data-lucide="menu" class="h-7 w-7"></i>
                </button>
            </div>
        </nav>
        <div id="mobile-menu" class="lg:hidden hidden mobile-menu-bg absolute top-full left-0 right-0 shadow-lg border-t border-color py-2">
            <a href="#about" class="nav-link-mobile block px-4 py-2 hover:bg-accent">About</a>
            <a href="#experience" class="nav-link-mobile block px-4 py-2 hover:bg-accent">Experience</a>
            <a href="#skills" class="nav-link-mobile block px-4 py-2 hover:bg-accent">Skills</a>
            <a href="#projects" class="nav-link-mobile block px-4 py-2 hover:bg-accent">Projects</a>
            <a href="#education" class="nav-link-mobile block px-4 py-2 hover:bg-accent">Education</a>
            <a href="#certifications" class="nav-link-mobile block px-4 py-2 hover:bg-accent">Certifications</a>
            <a href="#blog" class="nav-link-mobile block px-4 py-2 hover:bg-accent">Blog</a>
            <a href="#contact" class="nav-link-mobile block px-4 py-2 hover:bg-accent">Contact</a>
        </div>
    </header>

    <section id="home" class="relative min-h-screen flex items-center justify-center text-center overflow-hidden pt-24 md:pt-0">
        <div id="particles-js"></div>
        <div class="content-above container mx-auto px-6 z-10">
             <div class="hero-content bg-hero-overlay-bg p-8 md:p-12 rounded-xl shadow-xl max-w-4xl mx-auto section-container visible">
                <h1 class="text-5xl md:text-7xl font-bold mb-4 leading-tight gradient-text">
                    Daniel Wanjala
                </h1>
                <p class="text-xl md:text-3xl text-heading mb-8 font-medium">
                    <span id="typed-subtitle"></span>
                </p>
                <p class="text-md md:text-lg text-secondary max-w-3xl mx-auto mb-10 leading-relaxed">
                    Welcome to a showcase of innovation where data meets design. I engineer intelligent solutions, transform complex datasets into strategic assets, and drive technological progress. Rooted in Ruiru, Kenya, my focus is on creating measurable impact through cutting-edge IT strategies and sophisticated machine learning applications.
                </p>
                <div class="flex flex-col sm:flex-row justify-center gap-4 mt-8">
                    <a href="#projects" class="cta-button">
                        Discover My Work <i data-lucide="arrow-right" class="inline-block ml-2 h-4 w-4 group-hover:translate-x-1 transition-transform"></i>
                    </a>
                    <a href="#contact" class="cta-button-secondary">
                        Get In Touch
                    </a>
                </div>
                 <p id="welcome-back-message" class="mt-6 text-sm text-accent font-medium"></p>
                 <div id="user-progress-bar" class="w-1/2 max-w-xs h-2 bg-gray-300 dark:bg-gray-700 rounded-full mx-auto mt-4 hidden">
                     <div id="user-progress" class="h-full bg-gradient-to-r from-gradient-start to-gradient-mid rounded-full transition-width duration-500 ease-out" style="width: 0%;"></div>
                 </div>
                 <p id="user-progress-text" class="text-xs text-secondary mt-1"></p>
            </div>
        </div>
         <div class="absolute bottom-10 left-1/2 transform -translate-x-1/2 content-above z-10">
             <a href="#about" aria-label="Scroll down">
                <i data-lucide="arrow-down-circle" class="text-secondary hover:text-accent transition-colors animate-bounce h-10 w-10"></i>
            </a>
        </div>
    </section>

    <section id="about" class="section-bg-alt section-container" data-section-name="About">
        <div class="container mx-auto px-6">
             <div class="text-center mb-16">
                 <span class="section-header-line text-accent font-semibold">Chapter I</span>
                <h2 class="section-header-title text-4xl md:text-5xl font-bold text-heading mt-2">The Narrative Arc</h2>
                <p class="section-header-subtitle text-lg text-secondary leading-relaxed mt-4 max-w-3xl mx-auto">
                    Blending Technology & Impact: From rigorous academic training to real-world applications improving Kenyan healthcare and public sector digital infrastructure.
                </p>
            </div>

            <div class="flex flex-col lg:flex-row items-center gap-12 lg:gap-16">
                <div class="lg:w-1/3 text-center flex-shrink-0">
                    <img src="assets/profile.jpg" alt="Daniel Wanjala Profile Picture" class="rounded-full shadow-xl border-4 border-accent/50 mx-auto w-48 h-48 md:w-64 md:h-64 object-cover mb-6 hover:scale-105 transition-transform duration-300" onerror="this.onerror=null; this.src='https://placehold.co/256x256/E0E7FF/4F46E5?text=DW';">
                    <p class="text-center text-md font-medium text-heading">Daniel Wanjala</p>
                    <p class="text-center text-sm text-secondary">Data Scientist & Innovator | Ruiru, Kenya</p>
                    <div class="lottie-placeholder-container mt-6">
                        <lottie-player src="https://assets10.lottiefiles.com/packages/lf20_qp1q7mct.json" background="transparent" speed="1" style="width: 150px; height: 150px;" loop autoplay aria-label="Data Analysis Animation"></lottie-player>
                    </div>
                </div>

                <div class="lg:w-2/3 space-y-8">
                    <div class="card-base card-hover">
                        <h3 class="text-2xl font-semibold mb-3 text-accent flex items-center">
                            <i data-lucide="map-pin" class="mr-3 h-6 w-6"></i> Grounded in Kenya, Driven by Innovation
                        </h3>
                        <p class="text-secondary leading-relaxed">
                            My journey began with a BSc in Information Technology from Zetech University (2022), enhanced by specialized Data Science training at Moringa School. Currently pursuing an MSc in Data Science at Cooperative University Kenya (2024-Present), I'm dedicated to applying global tech advancements to solve local challenges and boost Kenya's innovation ecosystem.
                        </p>
                    </div>
                     <div class="card-base card-hover">
                        <h3 class="text-2xl font-semibold mb-3 text-green-500 flex items-center">
                            <i data-lucide="activity" class="mr-3 h-6 w-6"></i> Experience: Transforming Healthcare Ops
                        </h3>
                        <p class="text-secondary leading-relaxed">
                            As volunteer Senior IT Manager & Data Scientist at Kingdom Hospital, Webuye (Jan 2023 - Present), I mentored interns and focused on network security, system uptime, and data integrity. A key achievement involved developing predictive models that <strong class="text-green-600 dark:text-green-400 pulsate">reduced patient wait times by 35%</strong>. We also automated management tasks using Frappe-based ERP solutions, enhancing record accuracy and billing.
                        </p>
                         <p class="mt-3 text-sm text-secondary">Methodology: <strong class="text-accent underline decoration-dotted cursor-help" title="Utilized predictive modeling (queuing theory, regression) and process mining on historical data to identify bottlenecks in scheduling/resource allocation and optimize patient journey workflows.">Patient flow optimization techniques</strong>.</p>
                    </div>
                     <div class="card-base card-hover">
                        <h3 class="text-2xl font-semibold mb-3 text-red-500 flex items-center">
                            <i data-lucide="shield-check" class="mr-3 h-6 w-6"></i> Experience: Enhancing Public Sector Resilience
                        </h3>
                        <p class="text-secondary leading-relaxed">
                            Volunteering as an ICT Expert for Webuye District (March 2024), I focused on digitizing records and strengthening digital defenses through network upgrades and implementing comprehensive <strong class="text-red-600 dark:text-red-400 hover:animate-pulse cursor-help" title="Protecting critical systems!">cybersecurity</strong> frameworks. I also trained staff in data management and secure digital practices.
                        </p>
                    </div>
                </div>
            </div>
             <div class="text-center mt-16">
                 <a href="about.html" class="cta-button-secondary group inline-flex items-center">
                     <span>Learn More About My Journey</span>
                     <i data-lucide="arrow-right" class="ml-2 h-4 w-4 group-hover:translate-x-1 transition-transform"></i>
                 </a>
             </div>
        </div>
    </section>

     <section id="experience" class="section-bg-primary section-container" data-section-name="Experience">
        <div class="container mx-auto px-6">
            <div class="text-center mb-16">
                <h2 class="text-4xl md:text-5xl font-bold text-heading">Professional Experience</h2>
                <p class="text-lg text-secondary leading-relaxed mt-4 max-w-3xl mx-auto">
                    A timeline highlighting key roles and responsibilities where I applied my skills to drive tangible results.
                </p>
            </div>
            <div class="timeline max-w-3xl mx-auto">
                <div class="timeline-item">
                    <div class="timeline-dot"></div>
                    <div class="timeline-content card-hover">
                        <h3 class="text-xl font-semibold mb-1 text-heading">Senior IT Manager & Data Scientist (Volunteer)</h3>
                        <p class="text-sm font-medium text-accent mb-2">Kingdom Hospital, Webuye | Jan 2023 â€“ Present</p>
                        <ul class="list-disc list-inside space-y-1 text-secondary text-sm">
                            <li>Led IT operations, mentored interns, ensured system uptime & data integrity.</li>
                            <li>Developed predictive models reducing patient wait times by 35%.</li>
                            <li>Implemented Frappe-based ERP for automated hospital management.</li>
                            <li>Enhanced cybersecurity protocols and disaster recovery plans.</li>
                        </ul>
                    </div>
                </div>
                <div class="timeline-item">
                    <div class="timeline-dot"></div>
                    <div class="timeline-content card-hover">
                         <h3 class="text-xl font-semibold mb-1 text-heading">ICT Expert (Volunteer)</h3>
                        <p class="text-sm font-medium text-accent mb-2">Webuye District | March 2024 (Short-term)</p>
                        <ul class="list-disc list-inside space-y-1 text-secondary text-sm">
                            <li>Spearheaded digitization of administrative records.</li>
                            <li>Strengthened digital defenses via network upgrades & cybersecurity frameworks.</li>
                            <li>Trained district staff on data management, troubleshooting & security.</li>
                        </ul>
                    </div>
                </div>
                 </div>
             <div class="text-center mt-16">
                 <a href="experience.html" class="cta-button-secondary group inline-flex items-center">
                     <span>View Detailed Experience</span>
                     <i data-lucide="arrow-right" class="ml-2 h-4 w-4 group-hover:translate-x-1 transition-transform"></i>
                 </a>
             </div>
        </div>
    </section>


    <section id="skills" class="section-bg-alt section-container" data-section-name="Skills">
        <div class="container mx-auto px-6">
            <div class="text-center mb-16">
                <span class="section-header-line text-accent font-semibold">Chapter II</span>
                <h2 class="section-header-title text-4xl md:text-5xl font-bold text-heading mt-2">Skills & Expertise</h2>
                <p class="section-header-subtitle text-lg text-secondary leading-relaxed mt-4 max-w-3xl mx-auto">
                    A blend of technical proficiency, strategic thinking, and collaborative strengths honed through diverse projects and continuous learning.
                </p>
            </div>

            <div class="mb-16 card-base card-hover">
                <h3 class="text-3xl font-semibold mb-6 text-center text-accent">Interactive Skill Galaxy (Conceptual)</h3>
                <div class="tech-placeholder">
                     <i class="fas fa-project-diagram"></i>
                     <p>Imagine navigating a 3D space where skills orbit like celestial bodies. Python, TensorFlow, Tableau, Network Security connect via luminous pathways. Interacting reveals proficiency details and links to relevant projects.</p>
                     <span class="tech-label">(Requires WebGL/Three.js Implementation)</span>
                 </div>
                 <p class="mt-4 text-center text-sm text-secondary">Hover over terms like <strong class="text-accent underline decoration-dotted cursor-help" title="Expertise in MLPs, CNNs (e.g., plant disease detection), RNNs/LSTMs (e.g., GDP forecasting), including architecture design, training, evaluation, and optimization.">Neural Networks</strong> for details.</p>
            </div>

            <div class="mb-16 card-base card-hover">
                <h3 class="text-3xl font-semibold mb-6 text-center text-green-500">Skill Mastery Challenge</h3>
                <div class="text-center text-secondary">
                    <p class="mb-4">Test your knowledge! Answer correctly to unlock skill badges!</p>
                    <p class="mb-2 text-lg">Challenge: <span id="skill-challenge-question" class="font-medium text-heading">Which ML technique was central to the GDP prediction model?</span></p>
                    <div class="flex justify-center items-center gap-2 mt-3">
                        <input type="text" id="skill-challenge-answer" class="w-full max-w-xs px-3 py-2 bg-bg-primary border border-color rounded-md focus:ring-accent focus:border-accent outline-none placeholder-gray-400 text-primary" placeholder="Enter your answer...">
                        <button id="skill-challenge-submit" class="cta-button-secondary !px-4 !py-2">Validate</button>
                    </div>
                    <p id="skill-challenge-feedback" class="text-sm mt-3 h-5 font-medium"></p>
                    <div id="skill-badges" class="mt-4 flex justify-center gap-3 flex-wrap">
                         <span class="skill-badge inline-block p-1.5 px-3 bg-gray-200 dark:bg-gray-600 text-gray-700 dark:text-gray-300 rounded-full text-xs shadow" data-skill="python" title="Locked">Python <i data-lucide="lock" class="inline h-3 w-3 ml-1"></i></span>
                         <span class="skill-badge inline-block p-1.5 px-3 bg-gray-200 dark:bg-gray-600 text-gray-700 dark:text-gray-300 rounded-full text-xs shadow" data-skill="tensorflow" title="Locked">TensorFlow <i data-lucide="lock" class="inline h-3 w-3 ml-1"></i></span>
                         <span class="skill-badge inline-block p-1.5 px-3 bg-gray-200 dark:bg-gray-600 text-gray-700 dark:text-gray-300 rounded-full text-xs shadow" data-skill="timeseries" title="Locked">Time-Series <i data-lucide="lock" class="inline h-3 w-3 ml-1"></i></span>
                    </div>
                </div>
            </div>

            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
                <div class="card-base card-hover">
                    <h4 class="text-2xl font-semibold mb-4 text-green-500 flex items-center"><i data-lucide="cpu" class="mr-3"></i>Technical Proficiency</h4>
                    <ul class="space-y-3 text-secondary">
                        <li title="Data analysis (Pandas, NumPy), ML (Scikit-learn, TensorFlow/Keras), DB interaction."><i data-lucide="check" class="text-green-500 mr-2 h-4 w-4 inline"></i>Python, SQL</li>
                        <li title="Static (Matplotlib, Seaborn) & interactive (Tableau) data visualization."><i data-lucide="check" class="text-green-500 mr-2 h-4 w-4 inline"></i>Tableau, Matplotlib, Seaborn</li>
                        <li title="Predictive modeling, classification, clustering, NNs, CNNs, RNNs."><i data-lucide="check" class="text-green-500 mr-2 h-4 w-4 inline"></i>ML: Predictive Modeling, Deep Learning</li>
                        <li title="Data cleaning, transformation, feature engineering & selection."><i data-lucide="check" class="text-green-500 mr-2 h-4 w-4 inline"></i>Big Data Wrangling & Feature Engineering</li>
                        <li title="Network config, server maint., system admin, troubleshooting."><i data-lucide="check" class="text-green-500 mr-2 h-4 w-4 inline"></i>System Admin & IT Troubleshooting</li>
                        <li title="ERPNext customization & development (e.g., hospital system)."><i data-lucide="check" class="text-green-500 mr-2 h-4 w-4 inline"></i>Frappe Framework</li>
                        <li title="Security protocols, vulnerability assessment, disaster recovery planning."><i data-lucide="check" class="text-green-500 mr-2 h-4 w-4 inline"></i>Cybersecurity & Disaster Recovery</li>
                    </ul>
                </div>
                <div class="card-base card-hover">
                    <h4 class="text-2xl font-semibold mb-4 text-yellow-500 flex items-center"><i data-lucide="users-2" class="mr-3"></i>Strategic & Soft Skills</h4>
                    <ul class="space-y-3 text-secondary">
                        <li><i data-lucide="check" class="text-yellow-500 mr-2 h-4 w-4 inline"></i>Analytical Problem-Solving</li>
                        <li><i data-lucide="check" class="text-yellow-500 mr-2 h-4 w-4 inline"></i>Proactive Leadership & Mentoring</li>
                        <li><i data-lucide="check" class="text-yellow-500 mr-2 h-4 w-4 inline"></i>Meticulous Research & Documentation</li>
                        <li><i data-lucide="check" class="text-yellow-500 mr-2 h-4 w-4 inline"></i>Adaptability & Continuous Learning</li>
                        <li><i data-lucide="check" class="text-yellow-500 mr-2 h-4 w-4 inline"></i>Clear Communication & Team Synergy</li>
                    </ul>
                </div>
                <div class="card-base card-hover">
                    <h4 class="text-2xl font-semibold mb-4 text-red-500 flex items-center"><i data-lucide="box" class="mr-3"></i>Tools & Platforms</h4>
                    <ul class="space-y-3 text-secondary">
                        <li><i data-lucide="check" class="text-red-500 mr-2 h-4 w-4 inline"></i>ML/DL: TensorFlow, Keras, Scikit-learn</li>
                        <li><i data-lucide="check" class="text-red-500 mr-2 h-4 w-4 inline"></i>DevOps: Git, GitHub, Docker (Basic)</li>
                        <li><i data-lucide="check" class="text-red-500 mr-2 h-4 w-4 inline"></i>Cloud: Google Cloud Platform (Intro)</li>
                        <li><i data-lucide="check" class="text-red-500 mr-2 h-4 w-4 inline"></i>Data Env: Jupyter Notebooks, Google Colab</li>
                        <li><i data-lucide="check" class="text-red-500 mr-2 h-4 w-4 inline"></i>OS: Linux Proficiency (Ubuntu, CentOS)</li>
                        <li><i data-lucide="check" class="text-red-500 mr-2 h-4 w-4 inline"></i>BI: Tableau Desktop</li>
                        <li><i data-lucide="check" class="text-red-500 mr-2 h-4 w-4 inline"></i>Databases: SQL (PostgreSQL, MySQL)</li>
                    </ul>
                </div>
            </div>
             <div class="text-center mt-16">
                 <a href="skills.html" class="cta-button-secondary group inline-flex items-center">
                     <span>Explore Skills in Detail</span>
                     <i data-lucide="arrow-right" class="ml-2 h-4 w-4 group-hover:translate-x-1 transition-transform"></i>
                 </a>
             </div>
        </div>
    </section>

    <section id="projects" class="section-bg-primary section-container" data-section-name="Projects">
        <div class="container mx-auto px-6">
            <div class="text-center mb-16">
                 <span class="section-header-line text-accent font-semibold">Chapter III</span>
                <h2 class="section-header-title text-4xl md:text-5xl font-bold text-heading mt-2">Innovation Lab</h2>
                <p class="section-header-subtitle text-lg text-secondary leading-relaxed mt-4 max-w-3xl mx-auto">
                    Featured projects showcasing the application of data science, machine learning, and IT strategy to solve real-world problems.
                </p>
            </div>

            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
                <div class="project-card card-base card-hover">
                     <img src="assets/project_gdp.jpg" alt="GDP Growth Prediction Visualization" onerror="this.onerror=null; this.src='https://placehold.co/600x338/E0E7FF/4F46E5?text=GDP+Model';">
                    <h3 class="text-xl font-semibold mb-2 text-blue-600 dark:text-blue-400 flex items-center">
                        <i data-lucide="trending-up" class="mr-2"></i>GDP Growth Prediction Model
                    </h3>
                    <p class="text-sm text-secondary mb-3">Forecasting national GDP growth using ML and key economic indicators.</p>
                    <p class="text-sm text-secondary mb-4 flex-grow"><strong>Outcome:</strong> Provided data-driven insights for economic policy formulation and strategic investment planning.</p>
                    <div class="mt-auto pt-4 border-t border-color">
                         <a href="https://github.com/dmwanjala/Phase-3-Project-Modelling" target="_blank" rel="noopener noreferrer" class="text-sm font-medium text-accent hover:text-accent-hover transition duration-200 inline-flex items-center group">
                            Explore Repository <i data-lucide="github" class="inline h-4 w-4 ml-1 group-hover:scale-110 transition-transform"></i>
                        </a>
                    </div>
                </div>

                <div class="project-card card-base card-hover">
                     <img src="assets/project_plant.jpg" alt="AI Plant Disease Detection Interface" onerror="this.onerror=null; this.src='https://placehold.co/600x338/ECFDF5/10B981?text=Plant+AI';">
                    <h3 class="text-xl font-semibold mb-2 text-green-600 dark:text-green-400 flex items-center">
                         <i data-lucide="scan-search" class="mr-2"></i>AI-Driven Plant Disease Detection
                    </h3>
                     <p class="text-sm text-secondary mb-3">Advanced AgTech solution using computer vision (CNNs) to identify plant diseases from images.</p>
                     <p class="text-sm text-secondary mb-4 flex-grow"><strong>Outcome:</strong> Tool for early disease detection, potentially boosting crop yields and contributing to food security.</p>
                     <div class="mt-auto pt-4 border-t border-color">
                        <a href="https://github.com/dmwanjala/Capstone-Lazarus" target="_blank" rel="noopener noreferrer" class="text-sm font-medium text-accent hover:text-accent-hover transition duration-200 inline-flex items-center group">
                            Explore Repository <i data-lucide="github" class="inline h-4 w-4 ml-1 group-hover:scale-110 transition-transform"></i>
                        </a>
                        <div class="tech-placeholder mt-4 !min-h-0 !p-3">
                             <i class="fas fa-vr-cardboard !text-xl !mb-1"></i>
                             <p class="!text-xs">Conceptual AR Preview (Requires AR.js/WebXR)</p>
                        </div>
                    </div>
                </div>

                <div class="project-card card-base card-hover">
                     <img src="assets/project_forecast.jpg" alt="Kenya GDP Forecasting Chart" onerror="this.onerror=null; this.src='https://placehold.co/600x338/EDE9FE/8B5CF6?text=GDP+Forecast';">
                    <h3 class="text-xl font-semibold mb-2 text-purple-600 dark:text-purple-400 flex items-center">
                         <i data-lucide="line-chart" class="mr-2"></i>Kenya GDP Forecasting Tool
                    </h3>
                     <p class="text-sm text-secondary mb-3">Analytical tool employing time-series analysis (ARIMA/LSTM) to model and predict Kenya's GDP trends.</p>
                    <p class="text-sm text-secondary mb-4 flex-grow"><strong>Outcome:</strong> Equipped stakeholders with data-informed perspectives on economic trajectories for better strategic planning.</p>
                    <div class="mt-auto pt-4 border-t border-color">
                        <a href="https://github.com/dmwanjala/GDP-Forecast-Sample" target="_blank" rel="noopener noreferrer" class="text-sm font-medium text-accent hover:text-accent-hover transition duration-200 inline-flex items-center group">
                            Explore Repository <i data-lucide="github" class="inline h-4 w-4 ml-1 group-hover:scale-110 transition-transform"></i>
                        </a>
                    </div>
                </div>

                <div class="project-card card-base card-hover">
                     <img src="assets/project_invest.jpg" alt="InvestWise Predictor Dashboard Concept" onerror="this.onerror=null; this.src='https://placehold.co/600x338/FEF3C7/F59E0B?text=InvestWise';">
                    <h3 class="text-xl font-semibold mb-2 text-yellow-600 dark:text-yellow-400 flex items-center">
                         <i data-lucide="brain-circuit" class="mr-2"></i>InvestWise Predictor <span class="text-xs ml-2 bg-yellow-100 text-yellow-800 px-1.5 py-0.5 rounded-full dark:bg-yellow-900 dark:text-yellow-300">WIP</span>
                    </h3>
                     <p class="text-sm text-secondary mb-3">Intelligent web platform using neural networks to synthesize diverse data for predicting regional investment viability in Kenya.</p>
                    <p class="text-sm text-secondary mb-4 flex-grow"><strong>Outcome (Goal):</strong> Provide investors with sophisticated, data-driven evaluations to promote targeted economic development.</p>
                    <div class="mt-auto pt-4 border-t border-color">
                        <a href="https://github.com/dmwanjala/InvestWise-Predictor-Project" target="_blank" rel="noopener noreferrer" class="text-sm font-medium text-accent hover:text-accent-hover transition duration-200 inline-flex items-center group">
                            Track Progress <i data-lucide="github" class="inline h-4 w-4 ml-1 group-hover:scale-110 transition-transform"></i>
                        </a>
                    </div>
                </div>

                 <div class="project-card card-base card-hover">
                    <img src="assets/project_netflix.jpg" alt="Netflix Stock Chart Analysis" onerror="this.onerror=null; this.src='https://placehold.co/600x338/FEE2E2/EF4444?text=Netflix+Stocks';">
                    <h3 class="text-xl font-semibold mb-2 text-red-600 dark:text-red-400 flex items-center">
                         <i data-lucide="candlestick-chart" class="mr-2"></i>Netflix Stock Performance Analysis
                    </h3>
                     <p class="text-sm text-secondary mb-3">Quantitative examination of Netflix's historical stock data to identify trends, volatility, and investment characteristics.</p>
                    <p class="text-sm text-secondary mb-4 flex-grow"><strong>Outcome:</strong> Delivered objective, data-supported insights on historical performance and risk profile for investor evaluation.</p>
                     <div class="mt-auto pt-4 border-t border-color">
                        <a href="https://github.com/dmwanjala/Netflix-Analysis" target="_blank" rel="noopener noreferrer" class="text-sm font-medium text-accent hover:text-accent-hover transition duration-200 inline-flex items-center group">
                            Explore Repository <i data-lucide="github" class="inline h-4 w-4 ml-1 group-hover:scale-110 transition-transform"></i>
                        </a>
                    </div>
                </div>

                 <div class="card-base flex flex-col items-center justify-center text-center bg-gradient-to-br from-bg-accent to-bg-primary dark:from-gray-800 dark:to-gray-900 card-hover">
                     <i data-lucide="github" class="w-12 h-12 text-accent mb-4"></i>
                     <h3 class="text-xl font-semibold mb-3 text-heading">Discover More Innovations</h3>
                     <p class="text-secondary mb-6 text-sm">My GitHub profile hosts a broader range of projects, experiments, and open-source contributions. See what's currently under development.</p>
                     <div class="w-full text-left text-xs bg-white dark:bg-gray-700 p-3 rounded mb-4 h-32 overflow-y-auto border border-color shadow-inner scrollbar-thin scrollbar-thumb-gray-300 dark:scrollbar-thumb-gray-600 scrollbar-track-transparent">
                         <p class="text-gray-600 dark:text-gray-400 font-semibold mb-2">Recent Activity (Conceptual Feed)</p>
                         <p class="text-gray-500 dark:text-gray-400 text-xs mb-1"><span class="text-blue-500">commit:</span> Enhanced error handling in InvestWise API <span class="text-gray-400 dark:text-gray-500">- 1h ago</span></p>
                         <p class="text-gray-500 dark:text-gray-400 text-xs mb-1"><span class="text-green-500">pr merged:</span> Added data validation script for GDP tool <span class="text-gray-400 dark:text-gray-500">- 4h ago</span></p>
                         <p class="text-gray-500 dark:text-gray-400 text-xs"><span class="text-purple-500">issue closed:</span> Resolved image loading bug <span class="text-gray-400 dark:text-gray-500">- 1d ago</span></p>
                     </div>
                     <a href="https://github.com/MadScie254?tab=repositories" target="_blank" rel="noopener noreferrer" class="cta-button-secondary mt-auto group inline-flex items-center">
                         <span>Visit GitHub Profile</span>
                         <i data-lucide="arrow-right" class="ml-2 h-4 w-4 group-hover:translate-x-1 transition-transform"></i>
                     </a>
                 </div>
            </div>
             <div class="text-center mt-16">
                 <a href="projects.html" class="cta-button group inline-flex items-center">
                     <span>View All Projects</span>
                     <i data-lucide="arrow-right" class="ml-2 h-4 w-4 group-hover:translate-x-1 transition-transform"></i>
                 </a>
             </div>
        </div>
    </section>

     <section id="education" class="section-bg-alt section-container" data-section-name="Education">
        <div class="container mx-auto px-6">
            <div class="text-center mb-16">
                <span class="section-header-line text-accent font-semibold">Foundations</span>
                <h2 class="section-header-title text-4xl md:text-5xl font-bold text-heading mt-2">Academic Pillars</h2>
                <p class="section-header-subtitle text-lg text-secondary leading-relaxed mt-4 max-w-3xl mx-auto">
                    Charting the educational milestones that shaped my technical expertise and analytical approach.
                </p>
                 <div class="lottie-placeholder-container mt-6">
                    <lottie-player src="https://assets3.lottiefiles.com/packages/lf20_DMgKkTTM9M.json" background="transparent" speed="1" style="width: 180px; height: 180px;" loop autoplay aria-label="Education Animation"></lottie-player>
                </div>
            </div>
            <div class="max-w-4xl mx-auto space-y-8">
                <div class="card-base card-hover">
                    <h3 class="text-xl font-semibold mb-1 text-heading">Master of Science in Data Science</h3>
                    <p class="font-medium text-accent mb-2">Cooperative University Kenya | 2024 â€“ Present</p>
                    <p class="text-sm text-secondary leading-relaxed">Advancing knowledge in sophisticated ML algorithms, scalable big data analytics, advanced statistical modeling, and rigorous research methodologies.</p>
                </div>
                <div class="card-base card-hover">
                    <h3 class="text-xl font-semibold mb-1 text-heading">Bachelor of Science in Information Technology</h3>
                    <p class="font-medium text-accent mb-2">Zetech University | Graduated 2022 (Honors)</p>
                    <p class="text-sm text-secondary leading-relaxed">Comprehensive curriculum covering SQL, Python (OOP), network architecture, systems analysis, and business intelligence concepts.</p>
                </div>
                 <div class="card-base card-hover">
                    <h3 class="text-xl font-semibold mb-1 text-heading">Certificate in Data Science and Machine Learning</h3>
                    <p class="font-medium text-accent mb-2">Moringa School</p>
                    <p class="text-sm text-secondary leading-relaxed">Immersive, project-based learning focused on practical data science workflows (Python, Pandas, NumPy, Scikit-learn), deep learning fundamentals, and data visualization (Matplotlib, Seaborn).</p>
                </div>
            </div>
             <div class="text-center mt-16">
                 <a href="education.html" class="cta-button-secondary group inline-flex items-center">
                     <span>See Education Details</span>
                      <i data-lucide="arrow-right" class="ml-2 h-4 w-4 group-hover:translate-x-1 transition-transform"></i>
                 </a>
             </div>
        </div>
    </section>

     <section id="certifications" class="section-bg-primary section-container" data-section-name="Certifications">
        <div class="container mx-auto px-6">
            <div class="text-center mb-16">
                <span class="section-header-line text-accent font-semibold">Credentials</span>
                <h2 class="section-header-title text-4xl md:text-5xl font-bold text-heading mt-2">Validated Expertise</h2>
                <p class="section-header-subtitle text-lg text-secondary leading-relaxed mt-4 max-w-3xl mx-auto">
                    Commitment to continuous professional development demonstrated through certifications from respected industry platforms.
                </p>
            </div>
            <div class="max-w-5xl mx-auto">
                <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6">
                    <div class="card-base flex items-center space-x-4 transition-all duration-300 hover:opacity-85 hover:scale-[1.02]">
                        <i data-lucide="award" class="text-yellow-500 h-10 w-10 flex-shrink-0"></i>
                        <div>
                            <h4 class="font-semibold text-heading text-sm">Google Cloud - Intro to Workspace Admin</h4>
                            <p class="text-xs text-secondary">ID: VUAXGZW4DX9Y</p>
                        </div>
                    </div>
                     <div class="card-base flex items-center space-x-4 transition-all duration-300 hover:opacity-85 hover:scale-[1.02]">
                        <i data-lucide="award" class="text-green-500 h-10 w-10 flex-shrink-0"></i>
                        <div>
                            <h4 class="font-semibold text-heading text-sm">HackerRank - Software Engineer Role Cert</h4>
                            <p class="text-xs text-secondary">ID: 0A531F3CF6CB</p>
                        </div>
                    </div>
                     <div class="card-base flex items-center space-x-4 transition-all duration-300 hover:opacity-85 hover:scale-[1.02]">
                        <i data-lucide="award" class="text-blue-500 h-10 w-10 flex-shrink-0"></i>
                        <div>
                            <h4 class="font-semibold text-heading text-sm">HackerRank - Problem Solving (Intermediate)</h4>
                            <p class="text-xs text-secondary">ID: 9D0D1B09D24E</p>
                        </div>
                    </div>
                     <div class="card-base flex items-center space-x-4 transition-all duration-300 hover:opacity-85 hover:scale-[1.02]">
                        <i data-lucide="award" class="text-yellow-500 h-10 w-10 flex-shrink-0"></i>
                        <div>
                            <h4 class="font-semibold text-heading text-sm">Google - Foundations: Data, Data, Everywhere</h4>
                            <p class="text-xs text-secondary">ID: ZYDCF6KNWSAX</p>
                        </div>
                    </div>
                     <div class="card-base flex items-center space-x-4 transition-all duration-300 hover:opacity-85 hover:scale-[1.02]">
                        <i data-lucide="award" class="text-green-500 h-10 w-10 flex-shrink-0"></i>
                        <div>
                            <h4 class="font-semibold text-heading text-sm">HackerRank - Python (Basic)</h4>
                            <p class="text-xs text-secondary">ID: E883F6B460CF</p>
                        </div>
                    </div>
                     <div class="card-base flex items-center space-x-4 transition-all duration-300 hover:opacity-85 hover:scale-[1.02]">
                        <i data-lucide="award" class="text-purple-500 h-10 w-10 flex-shrink-0"></i>
                        <div>
                            <h4 class="font-semibold text-heading text-sm">Udemy - Python for Data Science</h4>
                            <p class="text-xs text-secondary">ID: UC-b80a...</p>
                        </div>
                    </div>
                     <div class="card-base flex items-center space-x-4 transition-all duration-300 hover:opacity-85 hover:scale-[1.02]">
                        <i data-lucide="award" class="text-blue-500 h-10 w-10 flex-shrink-0"></i>
                        <div>
                            <h4 class="font-semibold text-heading text-sm">LinkedIn - Non-Technical Skills of Data Scientists</h4>
                            <p class="text-xs text-secondary">(Completion)</p>
                        </div>
                    </div>
                     <div class="card-base flex items-center space-x-4 transition-all duration-300 hover:opacity-85 hover:scale-[1.02]">
                        <i data-lucide="award" class="text-red-500 h-10 w-10 flex-shrink-0"></i>
                        <div>
                            <h4 class="font-semibold text-heading text-sm">Udemy - Practical Password Cracking</h4>
                             <p class="text-xs text-secondary">ID: UC-96f1...</p>
                        </div>
                    </div>
                     <div class="card-base flex items-center space-x-4 transition-all duration-300 hover:opacity-85 hover:scale-[1.02] bg-bg-accent dark:bg-gray-700">
                        <i data-lucide="award" class="text-gray-500 h-10 w-10 flex-shrink-0"></i>
                        <div>
                            <h4 class="font-semibold text-heading text-sm">And More...</h4>
                            <p class="text-xs text-secondary">Continuously enhancing skills.</p>
                        </div>
                    </div>
                </div>
            </div>
             <div class="text-center mt-16">
                 <a href="certifications.html" class="cta-button-secondary group inline-flex items-center">
                     <span>See All Certifications</span>
                      <i data-lucide="arrow-right" class="ml-2 h-4 w-4 group-hover:translate-x-1 transition-transform"></i>
                 </a>
             </div>
        </div>
    </section>

     <section id="blog" class="section-bg-alt section-container" data-section-name="Blog">
        <div class="container mx-auto px-6">
            <div class="text-center mb-16">
                <span class="section-header-line text-accent font-semibold">Insights</span>
                <h2 class="section-header-title text-4xl md:text-5xl font-bold text-heading mt-2">From the Digital Desk</h2>
                <p class="section-header-subtitle text-lg text-secondary leading-relaxed mt-4 max-w-3xl mx-auto">
                    Articles, reflections, and technical deep-dives on AI, data science applications, project lessons, and emerging tech trends.
                </p>
            </div>
            <div class="max-w-4xl mx-auto">
                 <div class="card-base card-hover">
                     <h3 class="text-2xl font-semibold mb-4 text-accent">Featured Post (Example)</h3>
                     <article class="prose prose-sm sm:prose lg:prose-lg max-w-none text-secondary dark:prose-invert prose-a:text-accent prose-a:no-underline hover:prose-a:underline prose-strong:text-heading dark:prose-strong:text-white">
                         <h4 class="text-heading dark:text-white">Bridging the Gap: Advanced Analytics in Resource-Constrained Settings</h4>
                         <p>The successful application of predictive analytics at Kingdom Hospital highlights that advanced data science isn't exclusive to large corporations. However, deploying these techniques effectively with limited infrastructure or data quality issues requires a nuanced approach. This involves prioritizing robust preprocessing, selecting efficient models, and focusing on actionable insights without extensive technical overhead...</p>
                         <p>[Full article could discuss specific Python libraries, challenges overcome, and future possibilities, potentially including code snippets or charts.]</p>
                         <a href="blog/featured-post.html" class="font-medium">Continue Reading &raquo;</a>
                     </article>
                </div>
                 <div class="mt-16 text-center">
                     <a href="blog.html" class="cta-button group inline-flex items-center">
                         <span>View All Posts</span>
                          <i data-lucide="arrow-right" class="ml-2 h-4 w-4 group-hover:translate-x-1 transition-transform"></i>
                     </a>
                 </div>
            </div>
        </div>
    </section>

    <section id="contact" class="section-bg-primary section-container" data-section-name="Contact">
         <div class="container mx-auto px-6">
            <div class="text-center mb-16">
                 <span class="section-header-line text-accent font-semibold">Chapter IV</span>
                <h2 class="section-header-title text-4xl md:text-5xl font-bold text-heading mt-2">Initiate Dialogue</h2>
                <p class="section-header-subtitle text-lg text-secondary leading-relaxed mt-4 max-w-3xl mx-auto">
                    Let's connect and explore possibilities. Use the methods below to discuss collaborations, data science challenges, or groundbreaking projects.
                </p>
            </div>

            <div class="flex flex-col lg:flex-row gap-12 lg:gap-16 items-start">
                <div class="w-full lg:w-1/2 space-y-8">
                     <div class="card-base card-hover">
                        <h3 class="text-2xl font-semibold mb-4 text-center text-accent">Mapping the Journey (Conceptual)</h3>
                        <div class="tech-placeholder">
                             <i class="fas fa-globe-africa"></i>
                             <p>Envision an interactive 3D globe highlighting significant locations (Ruiru, Webuye, Zetech Uni). Clicking points could reveal narrative snippets or project highlights.</p>
                            <span class="tech-label">(Requires WebGL/Three.js Implementation)</span>
                        </div>
                    </div>
                     <div class="card-base card-hover">
                         <h3 class="text-2xl font-semibold mb-4 text-center text-accent">AR vCard (Conceptual)</h3>
                        <div class="tech-placeholder">
                             <i class="fas fa-qrcode"></i>
                             <p>Scan a QR code (conceptually displayed here) to view an Augmented Reality vCard with contact details overlaid in your environment.</p>
                             <span class="tech-label">(Requires AR.js/WebXR & vCard Generation)</span>
                        </div>
                    </div>
                </div>

                <div class="w-full lg:w-1/2 card-base card-hover">
                     <h3 class="text-2xl font-semibold mb-6 text-heading">Let's Start a Conversation</h3>
                     <p class="text-secondary mb-6 leading-relaxed text-sm">
                        I welcome inquiries regarding collaborative ventures, data science consulting, speaking engagements, or discussions on leveraging technology for positive impact.
                    </p>

                     <div class="space-y-3 mb-6 border-b border-color pb-6">
                         <p class="flex items-center text-md"><i data-lucide="mail" class="mr-3 text-accent flex-shrink-0 h-5 w-5"></i> <a href="mailto:dmwanjala254@gmail.com" class="text-secondary hover:text-accent transition break-all">dmwanjala254@gmail.com</a></p>
                         <p class="flex items-center text-md"><i data-lucide="phone-call" class="mr-3 text-accent flex-shrink-0 h-5 w-5"></i> <a href="tel:+254742007277" class="text-secondary hover:text-accent transition">+254 742 007 277</a></p>
                         <p class="flex items-center text-md"><i data-lucide="map-pin" class="mr-3 text-accent flex-shrink-0 h-5 w-5"></i> <span class="text-secondary">Ruiru, Kiambu, Kenya</span></p>
                     </div>

                     <div class="flex flex-wrap gap-3 mb-6">
                         <a href="https://linkedin.com/in/daniel-wanjala-91" target="_blank" rel="noopener noreferrer" class="flex items-center bg-blue-600 hover:bg-blue-700 text-white font-semibold py-1.5 px-3 rounded-md text-sm transition duration-300 shadow hover:shadow-lg transform hover:-translate-y-0.5" aria-label="LinkedIn">
                             <i data-lucide="linkedin" class="mr-1.5 h-4 w-4"></i> LinkedIn
                         </a>
                          <a href="https://github.com/dmwanjala" target="_blank" rel="noopener noreferrer" class="flex items-center bg-gray-700 hover:bg-gray-600 text-white font-semibold py-1.5 px-3 rounded-md text-sm transition duration-300 shadow hover:shadow-lg transform hover:-translate-y-0.5" aria-label="GitHub">
                             <i data-lucide="github" class="mr-1.5 h-4 w-4"></i> GitHub
                         </a>
                         <a href="https://wa.me/254742007277?text=Hi%20Daniel,%20I%20visited%20your%20portfolio..." target="_blank" rel="noopener noreferrer" class="flex items-center bg-green-600 hover:bg-green-700 text-white font-semibold py-1.5 px-3 rounded-md text-sm transition duration-300 shadow hover:shadow-lg transform hover:-translate-y-0.5" aria-label="WhatsApp">
                             <i data-lucide="message-circle" class="mr-1.5 h-4 w-4"></i> WhatsApp
                         </a>
                          <button id="copy-email-btn" class="flex items-center bg-purple-600 hover:bg-purple-700 text-white font-semibold py-1.5 px-3 rounded-md text-sm transition duration-300 shadow hover:shadow-lg transform hover:-translate-y-0.5" aria-label="Copy Email" data-clipboard-text="dmwanjala254@gmail.com">
                             <i data-lucide="clipboard-copy" class="mr-1.5 h-4 w-4"></i> Copy Email
                         </button>
                     </div>
                     <div id="clipboard-toast" class="fixed bottom-5 left-1/2 transform -translate-x-1/2 bg-green-500 text-white px-4 py-2 rounded-lg shadow-lg text-sm opacity-0 transition-opacity duration-300 pointer-events-none z-50">
                         Email address copied!
                     </div>

                    <form id="contact-form" class="space-y-4" aria-labelledby="contact-heading">
                         <h4 id="contact-heading" class="text-lg font-semibold text-heading border-t border-color pt-6">Send a Direct Message</h4>
                        <div>
                            <label for="name" class="block text-sm font-medium text-secondary mb-1">Your Name</label>
                            <input type="text" id="name" name="name" required class="w-full px-3 py-2 bg-bg-primary border border-color rounded-md focus:ring-accent focus:border-accent outline-none placeholder-text-secondary text-primary text-sm" placeholder="e.g., Jane Doe" aria-required="true">
                        </div>
                        <div>
                            <label for="email" class="block text-sm font-medium text-secondary mb-1">Your Email</label>
                            <input type="email" id="email" name="email" required class="w-full px-3 py-2 bg-bg-primary border border-color rounded-md focus:ring-accent focus:border-accent outline-none placeholder-text-secondary text-primary text-sm" placeholder="e.g., jane.doe@example.com" aria-required="true">
                        </div>
                        <div>
                            <label for="message" class="block text-sm font-medium text-secondary mb-1">Your Message</label>
                            <textarea id="message" name="message" rows="4" required class="w-full px-3 py-2 bg-bg-primary border border-color rounded-md focus:ring-accent focus:border-accent outline-none placeholder-text-secondary text-primary text-sm" placeholder="Share your thoughts, questions, or proposal..." aria-required="true"></textarea>
                        </div>
                        <button type="submit" class="w-full cta-button group inline-flex items-center justify-center">
                            <span>Submit Message (Demo)</span>
                            <i data-lucide="send" class="ml-2 h-4 w-4 group-hover:translate-x-1 transition-transform"></i>
                        </button>
                         <p id="form-status" class="text-xs text-center text-secondary mt-2" aria-live="polite"></p>
                         <p class="text-xs text-secondary mt-1 text-center">(Form requires backend integration)</p>
                    </form>
                </div>
            </div>
             <div class="text-center mt-16">
                 <a href="contact.html" class="cta-button-secondary group inline-flex items-center">
                     <span>View More Contact Options</span>
                      <i data-lucide="arrow-right" class="ml-2 h-4 w-4 group-hover:translate-x-1 transition-transform"></i>
                 </a>
             </div>
        </div>
    </section>

    <footer class="py-10 mt-16 bg-bg-secondary border-t border-color">
        <div class="container mx-auto px-6 text-center text-secondary">
            <div class="mb-4 inline-block group">
                 <span class="text-4xl transition duration-300 ease-in-out group-hover:animate-bounce cursor-pointer" title="A hint of personality!" aria-label="Rugby ball icon">ðŸ‰</span>
            </div>
            <p class="text-sm">&copy; <span id="current-year"></span> Daniel Wanjala. All Rights Reserved.</p>
            <p class="text-xs mt-2">Data-driven solutions & digital experiences from Ruiru, Kenya.</p>
             <button id="konami-trigger" class="mt-4 text-xs text-gray-400 dark:text-gray-600 hover:text-secondary transition-colors" aria-label="Konami code hint">Konami Hint</button>
        </div>
    </footer>

    <script>
        try {
            document.addEventListener('DOMContentLoaded', () => {
                console.log("DOM fully loaded.");

                const body = document.body;
                const loadingOverlay = document.getElementById('loading-overlay');
                const header = document.getElementById('main-header');
                const mobileMenuButton = document.getElementById('mobile-menu-button');
                const mobileMenu = document.getElementById('mobile-menu');
                const mobileMenuIcon = mobileMenuButton?.querySelector('i[data-lucide]');
                const themeToggle = document.getElementById('theme-toggle');
                const themeToggleMobile = document.getElementById('theme-toggle-mobile');
                const sunIconClass = 'fa-sun';
                const moonIconClass = 'fa-moon';

                // --- Loading Screen ---
                setTimeout(() => {
                    if (loadingOverlay) {
                        loadingOverlay.classList.add('hidden');
                    }
                }, 7000);

                // --- Initialize Lucide Icons ---
                if (typeof lucide !== 'undefined') {
                    try { lucide.createIcons(); console.log("Lucide icons initialized."); }
                    catch (e) { console.error("Lucide icons initialization failed:", e); }
                } else { console.warn("Lucide library not found."); }

                // --- Header Scroll Effect ---
                if (header) {
                    const scrollHandler = () => {
                        header.classList.toggle('scrolled', window.scrollY > 50);
                    };
                    window.addEventListener('scroll', scrollHandler, { passive: true }); // Use passive listener
                    scrollHandler();
                }

                // --- Mobile Menu Toggle ---
                if (mobileMenuButton && mobileMenu && mobileMenuIcon) {
                    mobileMenuButton.addEventListener('click', () => {
                        const isHidden = mobileMenu.classList.toggle('hidden');
                        mobileMenuButton.setAttribute('aria-expanded', !isHidden);
                        mobileMenuIcon.setAttribute('data-lucide', isHidden ? 'menu' : 'x');
                        try { lucide.createIcons({ nodes: [mobileMenuIcon.parentElement] }); } catch(e){}
                    });
                    mobileMenu.querySelectorAll('a').forEach(link => {
                        link.addEventListener('click', () => {
                            if (!mobileMenu.classList.contains('hidden')) {
                                mobileMenu.classList.add('hidden');
                                mobileMenuButton.setAttribute('aria-expanded', 'false');
                                mobileMenuIcon.setAttribute('data-lucide', 'menu');
                                try { lucide.createIcons({ nodes: [mobileMenuIcon.parentElement] }); } catch(e){}
                            }
                        });
                    });
                }

                // --- Theme Management ---
                const applyTheme = (theme) => {
                    const isDark = theme === 'dark';
                    body.classList.toggle('dark-mode', isDark);
                    [themeToggle, themeToggleMobile].forEach(button => {
                        if (button) {
                            const icon = button.querySelector('i');
                            if (icon) {
                                icon.classList.remove(isDark ? moonIconClass : sunIconClass);
                                icon.classList.add(isDark ? sunIconClass : moonIconClass);
                            }
                        }
                    });
                    if (typeof updateParticlesTheme === 'function') {
                         updateParticlesTheme(isDark);
                    }
                };
                const toggleTheme = () => {
                    const newTheme = body.classList.contains('dark-mode') ? 'light' : 'dark';
                    localStorage.setItem('portfolioTheme', newTheme);
                    applyTheme(newTheme);
                };
                const currentTheme = localStorage.getItem('portfolioTheme') || 'light';
                applyTheme(currentTheme);
                if (themeToggle) themeToggle.addEventListener('click', toggleTheme);
                if (themeToggleMobile) themeToggleMobile.addEventListener('click', toggleTheme);

                // --- Particle.js Initialization ---
                const particlesConfig = {
                    light: { particles: { color: { value: "#5c6ac4" }, line_linked: { color: "#90a0f0", opacity: 0.2 }, opacity: { value: 0.5 } }, interactivity: { modes: { bubble: { color: "#ed64a6", size: 6 } } } },
                    dark: { particles: { color: { value: "#90a0f0" }, line_linked: { color: "#c471ed", opacity: 0.15 }, opacity: { value: 0.4 } }, interactivity: { modes: { bubble: { color: "#f7797d", size: 6 } } } },
                    common: { particles: { number: { value: 70, density: { enable: true, value_area: 900 } }, shape: { type: "circle" }, size: { value: 3, random: true }, move: { enable: true, speed: 1.2, direction: "none", random: true, straight: false, out_mode: "out", bounce: false } }, interactivity: { detect_on: "canvas", events: { onhover: { enable: true, mode: "bubble" }, onclick: { enable: true, mode: "push" }, resize: true }, modes: { bubble: { distance: 150, duration: 2, opacity: 0.8 }, push: { particles_nb: 4 } } }, retina_detect: true }
                };
                const initParticles = (theme) => {
                    if (typeof particlesJS !== 'undefined' && document.getElementById('particles-js')) {
                        const config = JSON.parse(JSON.stringify(particlesConfig.common)); // Deep clone common
                        const themeConfig = particlesConfig[theme];
                        // Deep merge theme specifics
                        config.particles.color = themeConfig.particles.color;
                        config.particles.line_linked = themeConfig.particles.line_linked;
                        config.particles.opacity = themeConfig.particles.opacity;
                        config.interactivity.modes.bubble = themeConfig.interactivity.modes.bubble;

                        particlesJS('particles-js', config);
                        console.log(`particles.js initialized for ${theme} theme.`);
                    } else {
                        console.warn("particles.js library or canvas element not found.");
                        const particlesCanvas = document.getElementById('particles-js');
                        if(particlesCanvas) particlesCanvas.style.display = 'none';
                    }
                };
                window.updateParticlesTheme = (isDark) => { initParticles(isDark ? 'dark' : 'light'); };
                initParticles(currentTheme);


                // --- Typed.js Initialization ---
                const typedTarget = document.getElementById('typed-subtitle');
                if (typedTarget && typeof Typed !== 'undefined') {
                    try {
                        new Typed('#typed-subtitle', {
                            strings: ["Data Scientist", "Machine Learning Engineer", "IT Strategist", "Innovator", "Problem Solver"],
                            typeSpeed: 55, backSpeed: 35, backDelay: 2200, loop: true, smartBackspace: true, cursorChar: '_'
                        });
                    } catch (error) { console.error("Typed.js Error:", error); typedTarget.textContent = 'Data Scientist | ML Engineer'; }
                } else if (typedTarget) { typedTarget.textContent = 'Data Scientist | ML Engineer'; }

                // --- Section Fade-in Animation ---
                const sections = document.querySelectorAll('.section-container');
                if ('IntersectionObserver' in window) {
                    const observerOptions = { root: null, rootMargin: '0px', threshold: 0.15 }; // Trigger slightly later
                    const observer = new IntersectionObserver((entries, observer) => {
                        entries.forEach(entry => {
                            if (entry.isIntersecting) {
                                entry.target.classList.add('visible');
                                // Update progress bar when section becomes visible
                                updateProgress(entry.target.dataset.sectionName);
                                // observer.unobserve(entry.target); // Keep observing for scrollspy
                            }
                        });
                    }, observerOptions);
                    sections.forEach(section => { if (section) observer.observe(section); });
                } else {
                    sections.forEach(section => section?.classList.add('visible'));
                }

                // --- Footer Current Year ---
                const yearSpan = document.getElementById('current-year');
                if (yearSpan) yearSpan.textContent = new Date().getFullYear();

                // --- Contact Form Submission Placeholder ---
                const contactForm = document.getElementById('contact-form');
                const formStatus = document.getElementById('form-status');
                if (contactForm && formStatus) {
                    contactForm.addEventListener('submit', (e) => {
                        e.preventDefault();
                        formStatus.textContent = 'Processing... (Demo)';
                        formStatus.className = 'text-xs text-center mt-2 text-yellow-600 dark:text-yellow-400';
                        setTimeout(() => {
                            formStatus.textContent = 'Message Sent Successfully! (Demo - No backend)';
                            formStatus.className = 'text-xs text-center mt-2 text-green-600 dark:text-green-400';
                            contactForm.reset();
                        }, 1500);
                    });
                }

                 // --- AI Chat Widget Logic ---
                 const aiChatWidget = document.getElementById('ai-chat-widget');
                 const aiChatInput = document.getElementById('ai-chat-input');
                 const aiChatSendBtn = document.getElementById('ai-chat-send-btn');
                 const aiChatBody = document.getElementById('ai-chat-body');
                 const voiceInputBtn = document.getElementById('voice-input-btn');
                 const aiChatCloseBtn = document.getElementById('ai-chat-close-btn');
                 const aiChatMinimizeBtn = document.getElementById('ai-chat-minimize-btn');
                 const aiChatHeader = document.getElementById('ai-chat-header');
                 const aiRecommendation = document.getElementById('ai-recommendation');
                 const recommendationText = document.getElementById('recommendation-text');

                 setTimeout(() => { if(aiChatWidget) aiChatWidget.classList.add('visible'); }, 3500);
                 if (aiChatWidget && aiChatCloseBtn) { aiChatCloseBtn.addEventListener('click', () => aiChatWidget.classList.remove('visible')); }
                 if (aiChatWidget && aiChatMinimizeBtn && aiChatHeader) {
                     aiChatMinimizeBtn.addEventListener('click', (e) => {
                         e.stopPropagation();
                         const isMinimized = aiChatWidget.classList.toggle('minimized');
                         const minIcon = aiChatMinimizeBtn.querySelector('.minimize-icon');
                         const maxIcon = aiChatMinimizeBtn.querySelector('.maximize-icon');
                         if (minIcon && maxIcon) { minIcon.classList.toggle('hidden', isMinimized); maxIcon.classList.toggle('hidden', !isMinimized); }
                         aiChatMinimizeBtn.setAttribute('aria-label', isMinimized ? 'Maximize chat' : 'Minimize chat');
                         aiChatHeader.style.cursor = isMinimized ? 'pointer' : 'grab';
                     });
                     aiChatHeader.addEventListener('click', () => { if (aiChatWidget.classList.contains('minimized')) { aiChatMinimizeBtn.click(); } });
                 }
                 if (aiChatSendBtn && aiChatInput && aiChatBody) {
                     const sendChatMessage = () => {
                         const userMessage = aiChatInput.value.trim();
                         if (userMessage) {
                             const userMsgElement = document.createElement('p');
                             userMsgElement.textContent = userMessage;
                             userMsgElement.className = 'user-message';
                             aiChatBody.appendChild(userMsgElement);
                             aiChatInput.value = '';
                             aiChatBody.scrollTop = aiChatBody.scrollHeight; // Scroll down immediately

                             let aiResponse = "I can provide details on Daniel's projects like the GDP Model or Plant Disease Detector, his skills (Python, ML, IT Management), or experience at Kingdom Hospital. What specifically interests you?";
                             let showRecommendation = false;
                             let recText = "";
                             const lowerUserMessage = userMessage.toLowerCase();

                              if (lowerUserMessage.includes('gdp model') || lowerUserMessage.includes('economic forecast')) {
                                 aiResponse = "The GDP Growth Prediction Model involved analyzing various economic indicators (like inflation, exchange rates) using time-series techniques in Python (likely ARIMA or similar models with libraries like Pandas, Statsmodels, Scikit-learn). The goal was to create forecasts supporting evidence-based policy decisions. The project involved data sourcing, extensive preprocessing, model selection based on performance metrics (like MAE or RMSE), training, and finally, interpreting the results to provide actionable economic insights.";
                                 showRecommendation = true;
                                 recText = "You might also be interested in the 'InvestWise Predictor' project, which deals with economic data for investment analysis.";
                             } else if (lowerUserMessage.includes('plant disease') || lowerUserMessage.includes('lazarus') || lowerUserMessage.includes('agriculture ai')) {
                                  aiResponse = "The AI Plant Disease Detector (Project Lazarus) used Convolutional Neural Networks (CNNs), a deep learning technique ideal for image recognition, implemented with TensorFlow/Keras. It was trained on a dataset of over 10,000 plant leaf images covering various diseases. Key steps included image augmentation to increase dataset robustness, model architecture design (e.g., using pre-trained models like MobileNet or building custom layers), training the CNN, and evaluating its accuracy (achieving ~92%) in identifying specific diseases like early blight. This enables faster diagnosis for farmers.";
                                   showRecommendation = true;
                                   recText = "The 'Skills' section lists TensorFlow and Deep Learning. The GitHub repo (Capstone-Lazarus) might have more technical details.";
                             } else if (lowerUserMessage.includes('investwise') || lowerUserMessage.includes('investment predictor')) {
                                 aiResponse = "InvestWise Predictor is an ongoing project aiming to build a web platform for regional investment viability analysis in Kenya. It plans to use neural networks (potentially Multi-Layer Perceptrons or Recurrent Neural Networks) to process diverse datasets â€“ economic indicators, trade data, demographics, infrastructure levels, etc. The core challenge lies in integrating these varied data sources and designing a model that can effectively predict investment potential scores for different regions, ultimately aiding investors and policymakers.";
                                 showRecommendation = true;
                                 recText = "This project combines skills in Data Wrangling, Neural Networks, and potentially Web Development (for the platform aspect).";
                             } else if (lowerUserMessage.includes('skills') || lowerUserMessage.includes('technical abilities')) {
                                 aiResponse = "Daniel possesses a strong skillset covering: \n1. **Data Science/ML:** Python (Pandas, NumPy, Scikit-learn), TensorFlow/Keras, Predictive Modeling, Deep Learning (CNNs, RNNs), Data Visualization (Tableau, Matplotlib), Big Data Wrangling, Feature Engineering.\n2. **IT Management:** System Administration (Linux), Network Maintenance, IT Troubleshooting, Cybersecurity fundamentals, Disaster Recovery planning.\n3. **Development:** SQL (PostgreSQL, MySQL), Frappe Framework (ERPNext), Git/GitHub for version control.\n4. **Soft Skills:** Analytical Problem-Solving, Leadership, Research, Adaptability, Communication.";
                             } else if (lowerUserMessage.includes('experience') || lowerUserMessage.includes('hospital') || lowerUserMessage.includes('webuye')) {
                                 aiResponse = "At Kingdom Hospital (Jan 2023 - Present), Daniel volunteers as Sr. IT Manager & Data Scientist. Key achievements include: leading IT operations, mentoring interns, implementing predictive analytics to cut patient wait times by 35%, automating tasks with Frappe/ERPNext, and enhancing cybersecurity. At Webuye District (Mar 2024), he focused on digitizing records, upgrading network security, and training staff on digital practices.";
                             } else if (lowerUserMessage.includes('contact') || lowerUserMessage.includes('email') || lowerUserMessage.includes('phone')) {
                                 aiResponse = "You can reach Daniel via email at dmwanjala254@gmail.com or phone at +254 742 007 277. Links for LinkedIn, GitHub, and WhatsApp are also available in the Contact section.";
                             } else if (lowerUserMessage.includes('hello') || lowerUserMessage.includes('hi') || lowerUserMessage.includes('help')) {
                                 aiResponse = "Hello! I'm here to provide information about Daniel Wanjala's portfolio. Ask me about his projects (GDP Model, Plant Detector, etc.), skills (Python, ML, IT), or work experience.";
                             }

                             setTimeout(() => {
                                const aiMsgElement = document.createElement('p');
                                aiMsgElement.textContent = aiResponse;
                                aiMsgElement.className = 'ai-message';
                                aiChatBody.appendChild(aiMsgElement);
                                if (aiRecommendation && recommendationText) {
                                    aiRecommendation.classList.toggle('hidden', !showRecommendation);
                                    if(showRecommendation) recommendationText.textContent = recText;
                                }
                                 aiChatBody.scrollTop = aiChatBody.scrollHeight;
                             }, 600 + Math.random() * 400);
                         }
                     };
                     aiChatSendBtn.addEventListener('click', sendChatMessage);
                     aiChatInput.addEventListener('keypress', (e) => { if (e.key === 'Enter') sendChatMessage(); });
                 }
                 if (voiceInputBtn) { voiceInputBtn.addEventListener('click', () => alert("Conceptual: Voice input requires Web Speech API integration.")); }

                // --- Skill Mastery Game Logic ---
                 const skillChallengeSubmit = document.getElementById('skill-challenge-submit');
                 const skillChallengeAnswer = document.getElementById('skill-challenge-answer');
                 const skillChallengeFeedback = document.getElementById('skill-challenge-feedback');
                 if(skillChallengeSubmit && skillChallengeAnswer && skillChallengeFeedback) {
                     skillChallengeSubmit.addEventListener('click', () => {
                         const answer = skillChallengeAnswer.value.toLowerCase().trim();
                         const questionEl = document.getElementById('skill-challenge-question');
                         const question = questionEl ? questionEl.textContent.toLowerCase() : "";
                         let correct = false;
                         let skillToUnlock = '';
                         if (question.includes("gdp") && (answer.includes("time-series") || answer.includes("time series") || answer.includes("arima") || answer.includes("lstm"))) { correct = true; skillToUnlock = 'timeseries'; }
                         else if (question.includes("plant disease") && (answer.includes("cnn") || answer.includes("convolutional neural network") || answer.includes("computer vision"))) { correct = true; skillToUnlock = 'tensorflow'; }
                         if (correct) {
                             skillChallengeFeedback.textContent = "Correct! Badge Unlocked! âœ¨";
                             skillChallengeFeedback.className = 'text-sm mt-3 h-5 font-medium text-green-600 dark:text-green-400';
                             const badge = document.querySelector(`.skill-badge[data-skill="${skillToUnlock}"]`);
                             if (badge && !badge.classList.contains('unlocked')) {
                                 badge.classList.remove('bg-gray-200', 'dark:bg-gray-600', 'text-gray-700', 'dark:text-gray-300');
                                 badge.classList.add('unlocked', 'pulsate');
                                 badge.title = "Unlocked!";
                                 const lockIcon = badge.querySelector('i[data-lucide="lock"]');
                                 if (lockIcon) { lockIcon.setAttribute('data-lucide', 'check'); try { lucide.createIcons({ nodes: [lockIcon.parentElement] }); } catch(e) {} }
                             }
                         } else {
                             skillChallengeFeedback.textContent = "Not quite, try again or check the project details!";
                             skillChallengeFeedback.className = 'text-sm mt-3 h-5 font-medium text-red-600 dark:text-red-400';
                         }
                         skillChallengeAnswer.value = '';
                     });
                 }

                 // --- ClipboardJS Initialization ---
                if (typeof ClipboardJS !== 'undefined') {
                    const clipboard = new ClipboardJS('#copy-email-btn');
                    const toast = document.getElementById('clipboard-toast');
                    clipboard.on('success', (e) => { if (toast) { toast.textContent = 'Email copied!'; toast.classList.replace('bg-red-500','bg-green-500'); toast.classList.remove('opacity-0'); setTimeout(() => { toast.classList.add('opacity-0'); }, 2500); } e.clearSelection(); });
                    clipboard.on('error', (e) => { if (toast) { toast.textContent = 'Failed to copy!'; toast.classList.replace('bg-green-500','bg-red-500'); toast.classList.remove('opacity-0'); setTimeout(() => { toast.classList.add('opacity-0'); }, 2500); } });
                } else { console.warn("ClipboardJS library not found."); const copyBtn = document.getElementById('copy-email-btn'); if(copyBtn) copyBtn.style.display = 'none'; }

                // --- Rugby Ball Easter Egg ---
                const rugbyBall = document.querySelector('footer .group span');
                if(rugbyBall) { rugbyBall.addEventListener('click', () => alert("Fun Fact: Beyond the code and data, I have a strong passion for Rugby!")); }

                // --- Konami Code Easter Egg ---
                 const konamiTrigger = document.getElementById('konami-trigger');
                 const konamiCode = ['ArrowUp', 'ArrowUp', 'ArrowDown', 'ArrowDown', 'ArrowLeft', 'ArrowRight', 'ArrowLeft', 'ArrowRight', 'b', 'a'];
                 let konamiIndex = 0;
                 document.addEventListener('keydown', (e) => { if (e.key.toLowerCase() === konamiCode[konamiIndex]?.toLowerCase()) { konamiIndex++; if (konamiIndex === konamiCode.length) { alert('Konami Code Activated! Theme Toggle!'); toggleTheme(); konamiIndex = 0; } } else { konamiIndex = 0; } });
                 if(konamiTrigger) konamiTrigger.addEventListener('click', () => alert('Hint: â†‘â†‘â†“â†“â†â†’â†â†’BA'));

                 // --- Welcome Back & Progress Tracking ---
                 const welcomeMsgElement = document.getElementById('welcome-back-message');
                 const progressBarContainer = document.getElementById('user-progress-bar');
                 const progressBar = document.getElementById('user-progress');
                 const progressText = document.getElementById('user-progress-text');
                 let sectionsViewed = {};
                 const sectionElements = document.querySelectorAll('section[data-section-name]');
                 const totalSections = sectionElements.length;

                 window.updateProgress = (sectionName) => { // Make global for observer
                     if (!sectionName || sectionsViewed[sectionName] || totalSections === 0) return;
                     sectionsViewed[sectionName] = true;
                     const viewedCount = Object.keys(sectionsViewed).length;
                     const progressPercent = Math.min(100, Math.round((viewedCount / totalSections) * 100));
                     if(progressBarContainer && progressBar && progressText && progressPercent > 0) {
                         progressBarContainer.classList.remove('hidden');
                         progressBar.style.width = `${progressPercent}%`;
                         progressText.textContent = `Exploration: ${progressPercent}% viewed`;
                         if(progressPercent >= 100) { progressText.textContent += " - All sections seen!"; }
                     }
                     try { localStorage.setItem('sectionsViewed', JSON.stringify(sectionsViewed)); } catch(e) {}
                 };

                 if (welcomeMsgElement && typeof localStorage !== 'undefined') {
                     try {
                         sectionsViewed = JSON.parse(localStorage.getItem('sectionsViewed') || '{}');
                         const initialViewedCount = Object.keys(sectionsViewed).length;
                         const initialProgressPercent = totalSections > 0 ? Math.min(100, Math.round((initialViewedCount / totalSections) * 100)) : 0;
                         if(progressBarContainer && progressBar && progressText && initialProgressPercent > 0) { progressBarContainer.classList.remove('hidden'); progressBar.style.width = `${initialProgressPercent}%`; progressText.textContent = `Exploration: ${initialProgressPercent}% viewed`; if(initialProgressPercent >= 100) { progressText.textContent += " - All sections seen!"; } }
                         let visitCount = parseInt(localStorage.getItem('visitCount') || '0');
                         visitCount++;
                         localStorage.setItem('visitCount', visitCount.toString());
                         if (visitCount > 5) { welcomeMsgElement.textContent = "Welcome back, seasoned explorer!"; }
                         else if (visitCount > 1) { welcomeMsgElement.textContent = "Welcome back!"; }
                     } catch(e) { console.warn("localStorage interaction failed for welcome/progress:", e); }
                 }

                // --- Scrollspy ---
                const navLinks = document.querySelectorAll('.nav-link');
                const mobileNavLinks = document.querySelectorAll('.nav-link-mobile');
                const allNavLinks = [...navLinks, ...mobileNavLinks];
                const scrollSections = document.querySelectorAll('section[id]'); // Use sections for scrollspy

                const activateLink = (targetId) => {
                    allNavLinks.forEach(link => {
                        link.classList.toggle('active', link.getAttribute('href') === `#${targetId}`);
                    });
                };

                if (scrollSections.length > 0 && "IntersectionObserver" in window) {
                    const headerHeight = header ? header.offsetHeight : 70; // Estimate header height
                    const scrollSpyObserver = new IntersectionObserver((entries) => {
                        let currentSectionId = '';
                        entries.forEach(entry => {
                            // Prioritize sections fully in view or near the top
                            if (entry.isIntersecting && entry.boundingClientRect.top <= headerHeight + 100) {
                                currentSectionId = entry.target.getAttribute('id');
                            }
                        });

                        // If no section is actively intersecting near the top, check which was the last one passed
                        if (!currentSectionId) {
                            for (let i = scrollSections.length - 1; i >= 0; i--) {
                                if (window.scrollY >= scrollSections[i].offsetTop - headerHeight - 100) {
                                    currentSectionId = scrollSections[i].getAttribute('id');
                                    break;
                                }
                            }
                        }
                        // Default to 'home' if near the very top
                        if (window.scrollY < 200) {
                             currentSectionId = 'home';
                        }

                        if (currentSectionId) {
                            activateLink(currentSectionId);
                        }

                    }, { rootMargin: `-${headerHeight}px 0px -60% 0px`, threshold: 0 }); // Adjust margins

                    scrollSections.forEach(section => { scrollSpyObserver.observe(section); });
                    activateLink('home'); // Activate home initially
                }


                console.log("Enhanced script execution complete.");
            });
        } catch (error) {
            console.error("A critical error occurred during script execution:", error);
        }
    </script>
</body>
</html>
